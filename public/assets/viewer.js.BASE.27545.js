/*
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
(function(aO,I){function a0(){if(!ah.isReady){try{M.documentElement.doScroll("left")}catch(c){setTimeout(a0,1);return}ah.ready()}}function E(s,c){c.src?ah.ajax({url:c.src,async:false,dataType:"script"}):ah.globalEval(c.text||c.textContent||c.innerHTML||"");c.parentNode&&c.parentNode.removeChild(c)}function ap(s,c,K,F,G,w){var A=s.length;if(typeof c==="object"){for(var J in c){ap(s,J,c[J],F,G,K)}return s}if(K!==I){F=!w&&F&&ah.isFunction(K);for(J=0;J<A;J++){G(s[J],c,F?K.call(s[J],J,G(s[J],c)):K,w)}return s}return A?G(s[0],c):I}function aF(){return(new Date).getTime()}function ao(){return false}function am(){return true}function aK(s,c,w){w[0].type=s;return ah.event.handle.apply(c,w)}function ag(O){var N,L=[],J=[],K=arguments,F,G,s,A,w,c;G=ah.data(this,"events");if(!(O.liveFired===this||!G||!G.live||O.button&&O.type==="click")){O.liveFired=this;var P=G.live.slice(0);for(A=0;A<P.length;A++){G=P[A];G.origType.replace(az,"")===O.type?J.push(G.selector):P.splice(A--,1)}F=ah(O.target).closest(J,O.currentTarget);w=0;for(c=F.length;w<c;w++){for(A=0;A<P.length;A++){G=P[A];if(F[w].selector===G.selector){s=F[w].elem;J=null;if(G.preType==="mouseenter"||G.preType==="mouseleave"){J=ah(O.relatedTarget).closest(G.selector)[0]}if(!J||J!==s){L.push({elem:s,handleObj:G})}}}}w=0;for(c=L.length;w<c;w++){F=L[w];O.currentTarget=F.elem;O.data=F.handleObj.data;O.handleObj=F.handleObj;if(F.handleObj.origHandler.apply(F.elem,K)===false){N=false;break}}return N}}function z(s,c){return"live."+(s&&s!=="*"?s+".":"")+c.replace(/\./g,"`").replace(/ /g,"&")}function l(c){return !c||!c.parentNode||c.parentNode.nodeType===11}function bj(s,c){var w=0;c.each(function(){if(this.nodeName===(s[w]&&s[w].nodeName)){var G=ah.data(s[w++]),J=ah.data(this,G);if(G=G&&G.events){delete J.handle;J.events={};for(var A in G){for(var F in G[A]){ah.event.add(this,A,G[A][F],G[A][F].data)}}}}})}function a3(s,c,G){var A,F,w;c=c&&c[0]?c[0].ownerDocument||c[0]:M;if(s.length===1&&typeof s[0]==="string"&&s[0].length<512&&c===M&&!aP.test(s[0])&&(ah.support.checkClone||!ak.test(s[0]))){F=true;if(w=ah.fragments[s[0]]){if(w!==1){A=w}}}if(!A){A=c.createDocumentFragment();ah.clean(s,c,A,G)}if(F){ah.fragments[s[0]]=w?A:1}return{fragment:A,cacheable:F}}function aC(s,c){var w={};ah.each(D.concat.apply([],D.slice(0,c)),function(){w[this]=s});return w}function o(c){return"scrollTo" in c&&c.document?c:c.nodeType===9?c.defaultView||c.parentWindow:false}var ah=function(s,c){return new ah.fn.init(s,c)},p=aO.jQuery,d=aO.$,M=aO.document,at,a7=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,aT=/^.[^:#\[\.,]*$/,an=/\S/,H=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ax=navigator.userAgent,b=false,av=[],aB,a1=Object.prototype.toString,aV=Object.prototype.hasOwnProperty,ay=Array.prototype.push,au=Array.prototype.slice,a6=Array.prototype.indexOf;ah.fn=ah.prototype={init:function(s,c){var A,w;if(!s){return this}if(s.nodeType){this.context=this[0]=s;this.length=1;return this}if(s==="body"&&!c){this.context=M;this[0]=M.body;this.selector="body";this.length=1;return this}if(typeof s==="string"){if((A=a7.exec(s))&&(A[1]||!c)){if(A[1]){w=c?c.ownerDocument||c:M;if(s=q.exec(s)){if(ah.isPlainObject(c)){s=[M.createElement(s[1])];ah.fn.attr.call(s,c,true)}else{s=[w.createElement(s[1])]}}else{s=a3([A[1]],[w]);s=(s.cacheable?s.fragment.cloneNode(true):s.fragment).childNodes}return ah.merge(this,s)}else{if(c=M.getElementById(A[2])){if(c.id!==A[2]){return at.find(s)}this.length=1;this[0]=c}this.context=M;this.selector=s;return this}}else{if(!c&&/^\w+$/.test(s)){this.selector=s;this.context=M;s=M.getElementsByTagName(s);return ah.merge(this,s)}else{return !c||c.jquery?(c||at).find(s):ah(c).find(s)}}}else{if(ah.isFunction(s)){return at.ready(s)}}if(s.selector!==I){this.selector=s.selector;this.context=s.context}return ah.makeArray(s,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return au.call(this,0)},get:function(c){return c==null?this.toArray():c<0?this.slice(c)[0]:this[c]},pushStack:function(s,c,A){var w=ah();ah.isArray(s)?ay.apply(w,s):ah.merge(w,s);w.prevObject=this;w.context=this.context;if(c==="find"){w.selector=this.selector+(this.selector?" ":"")+A}else{if(c){w.selector=this.selector+"."+c+"("+A+")"}}return w},each:function(s,c){return ah.each(this,s,c)},ready:function(c){ah.bindReady();if(ah.isReady){c.call(M,ah)}else{av&&av.push(c)}return this},eq:function(c){return c===-1?this.slice(c):this.slice(c,+c+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(au.apply(this,arguments),"slice",au.call(arguments).join(","))},map:function(c){return this.pushStack(ah.map(this,function(s,w){return c.call(s,w,s)}))},end:function(){return this.prevObject||ah(null)},push:ay,sort:[].sort,splice:[].splice};ah.fn.init.prototype=ah.fn;ah.extend=ah.fn.extend=function(){var s=arguments[0]||{},c=1,K=arguments.length,F=false,G,w,A,J;if(typeof s==="boolean"){F=s;s=arguments[1]||{};c=2}if(typeof s!=="object"&&!ah.isFunction(s)){s={}}if(K===c){s=this;--c}for(;c<K;c++){if((G=arguments[c])!=null){for(w in G){A=s[w];J=G[w];if(s!==J){if(F&&J&&(ah.isPlainObject(J)||ah.isArray(J))){A=A&&(ah.isPlainObject(A)||ah.isArray(A))?A:ah.isArray(J)?[]:{};s[w]=ah.extend(F,A,J)}else{if(J!==I){s[w]=J}}}}}}return s};ah.extend({noConflict:function(c){aO.$=d;if(c){aO.jQuery=p}return ah},isReady:false,ready:function(){if(!ah.isReady){if(!M.body){return setTimeout(ah.ready,13)}ah.isReady=true;if(av){for(var s,c=0;s=av[c++];){s.call(M,ah)}av=null}ah.fn.triggerHandler&&ah(M).triggerHandler("ready")}},bindReady:function(){if(!b){b=true;if(M.readyState==="complete"){return ah.ready()}if(M.addEventListener){M.addEventListener("DOMContentLoaded",aB,false);aO.addEventListener("load",ah.ready,false)}else{if(M.attachEvent){M.attachEvent("onreadystatechange",aB);aO.attachEvent("onload",ah.ready);var s=false;try{s=aO.frameElement==null}catch(c){}M.documentElement.doScroll&&s&&a0()}}}},isFunction:function(c){return a1.call(c)==="[object Function]"},isArray:function(c){return a1.call(c)==="[object Array]"},isPlainObject:function(s){if(!s||a1.call(s)!=="[object Object]"||s.nodeType||s.setInterval){return false}if(s.constructor&&!aV.call(s,"constructor")&&!aV.call(s.constructor.prototype,"isPrototypeOf")){return false}var c;for(c in s){}return c===I||aV.call(s,c)},isEmptyObject:function(s){for(var c in s){return false}return true},error:function(c){throw c},parseJSON:function(c){if(typeof c!=="string"||!c){return null}c=ah.trim(c);if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return aO.JSON&&aO.JSON.parse?aO.JSON.parse(c):(new Function("return "+c))()}else{ah.error("Invalid JSON: "+c)}},noop:function(){},globalEval:function(s){if(s&&an.test(s)){var c=M.getElementsByTagName("head")[0]||M.documentElement,w=M.createElement("script");w.type="text/javascript";if(ah.support.scriptEval){w.appendChild(M.createTextNode(s))}else{w.text=s}c.insertBefore(w,c.firstChild);c.removeChild(w)}},nodeName:function(s,c){return s.nodeName&&s.nodeName.toUpperCase()===c.toUpperCase()},each:function(s,c,J){var F,G=0,w=s.length,A=w===I||ah.isFunction(s);if(J){if(A){for(F in s){if(c.apply(s[F],J)===false){break}}}else{for(;G<w;){if(c.apply(s[G++],J)===false){break}}}}else{if(A){for(F in s){if(c.call(s[F],F,s[F])===false){break}}}else{for(J=s[0];G<w&&c.call(J,G,J)!==false;J=s[++G]){}}}return s},trim:function(c){return(c||"").replace(H,"")},makeArray:function(s,c){c=c||[];if(s!=null){s.length==null||typeof s==="string"||ah.isFunction(s)||typeof s!=="function"&&s.setInterval?ay.call(c,s):ah.merge(c,s)}return c},inArray:function(s,c){if(c.indexOf){return c.indexOf(s)}for(var A=0,w=c.length;A<w;A++){if(c[A]===s){return A}}return -1},merge:function(s,c){var F=s.length,w=0;if(typeof c.length==="number"){for(var A=c.length;w<A;w++){s[F++]=c[w]}}else{for(;c[w]!==I;){s[F++]=c[w++]}}s.length=F;return s},grep:function(s,c,G){for(var A=[],F=0,w=s.length;F<w;F++){!G!==!c(s[F],F)&&A.push(s[F])}return A},map:function(s,c,J){for(var F=[],G,w=0,A=s.length;w<A;w++){G=c(s[w],w,J);if(G!=null){F[F.length]=G}}return F.concat.apply([],F)},guid:1,proxy:function(s,c,w){if(arguments.length===2){if(typeof c==="string"){w=s;s=w[c];c=I}else{if(c&&!ah.isFunction(c)){w=c;c=I}}}if(!c&&s){c=function(){return s.apply(w||this,arguments)}}if(s){c.guid=s.guid=s.guid||c.guid||ah.guid++}return c},uaMatch:function(c){c=c.toLowerCase();c=/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||!/compatible/.test(c)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}},browser:{}});ax=ah.uaMatch(ax);if(ax.browser){ah.browser[ax.browser]=true;ah.browser.version=ax.version}if(ah.browser.webkit){ah.browser.safari=true}if(a6){ah.inArray=function(s,c){return a6.call(c,s)}}at=ah(M);if(M.addEventListener){aB=function(){M.removeEventListener("DOMContentLoaded",aB,false);ah.ready()}}else{if(M.attachEvent){aB=function(){if(M.readyState==="complete"){M.detachEvent("onreadystatechange",aB);ah.ready()}}}}(function(){ah.support={};var L=M.documentElement,K=M.createElement("script"),J=M.createElement("div"),F="script"+aF();J.style.display="none";J.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var G=J.getElementsByTagName("*"),w=J.getElementsByTagName("a")[0];if(!(!G||!G.length||!w)){ah.support={leadingWhitespace:J.firstChild.nodeType===3,tbody:!J.getElementsByTagName("tbody").length,htmlSerialize:!!J.getElementsByTagName("link").length,style:/red/.test(w.getAttribute("style")),hrefNormalized:w.getAttribute("href")==="/a",opacity:/^0.55$/.test(w.style.opacity),cssFloat:!!w.style.cssFloat,checkOn:J.getElementsByTagName("input")[0].value==="on",optSelected:M.createElement("select").appendChild(M.createElement("option")).selected,parentNode:J.removeChild(J.appendChild(M.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};K.type="text/javascript";try{K.appendChild(M.createTextNode("window."+F+"=1;"))}catch(A){}L.insertBefore(K,L.firstChild);if(aO[F]){ah.support.scriptEval=true;delete aO[F]}try{delete K.test}catch(c){ah.support.deleteExpando=false}L.removeChild(K);if(J.attachEvent&&J.fireEvent){J.attachEvent("onclick",function s(){ah.support.noCloneEvent=false;J.detachEvent("onclick",s)});J.cloneNode(true).fireEvent("onclick")}J=M.createElement("div");J.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";L=M.createDocumentFragment();L.appendChild(J.firstChild);ah.support.checkClone=L.cloneNode(true).cloneNode(true).lastChild.checked;ah(function(){var N=M.createElement("div");N.style.width=N.style.paddingLeft="1px";M.body.appendChild(N);ah.boxModel=ah.support.boxModel=N.offsetWidth===2;M.body.removeChild(N).style.display="none"});L=function(N){var P=M.createElement("div");N="on"+N;var O=N in P;if(!O){P.setAttribute(N,"return;");O=typeof P[N]==="function"}return O};ah.support.submitBubbles=L("submit");ah.support.changeBubbles=L("change");L=K=J=G=w=null}})();ah.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var aH="jQuery"+aF(),e=0,aS={};ah.extend({cache:{},expando:aH,noData:{embed:true,object:true,applet:true},data:function(s,c,F){if(!(s.nodeName&&ah.noData[s.nodeName.toLowerCase()])){s=s==aO?aS:s;var w=s[aH],A=ah.cache;if(!w&&typeof c==="string"&&F===I){return null}w||(w=++e);if(typeof c==="object"){s[aH]=w;A[w]=ah.extend(true,{},c)}else{if(!A[w]){s[aH]=w;A[w]={}}}s=A[w];if(F!==I){s[c]=F}return typeof c==="string"?s[c]:s}},removeData:function(s,c){if(!(s.nodeName&&ah.noData[s.nodeName.toLowerCase()])){s=s==aO?aS:s;var F=s[aH],w=ah.cache,A=w[F];if(c){if(A){delete A[c];ah.isEmptyObject(A)&&ah.removeData(s)}}else{if(ah.support.deleteExpando){delete s[ah.expando]}else{s.removeAttribute&&s.removeAttribute(ah.expando)}delete w[F]}}}});ah.fn.extend({data:function(s,c){if(typeof s==="undefined"&&this.length){return ah.data(this[0])}else{if(typeof s==="object"){return this.each(function(){ah.data(this,s)})}}var A=s.split(".");A[1]=A[1]?"."+A[1]:"";if(c===I){var w=this.triggerHandler("getData"+A[1]+"!",[A[0]]);if(w===I&&this.length){w=ah.data(this[0],s)}return w===I&&A[1]?this.data(A[0]):w}else{return this.trigger("setData"+A[1]+"!",[A[0],c]).each(function(){ah.data(this,s,c)})}},removeData:function(c){return this.each(function(){ah.removeData(this,c)})}});ah.extend({queue:function(s,c,A){if(s){c=(c||"fx")+"queue";var w=ah.data(s,c);if(!A){return w||[]}if(!w||ah.isArray(A)){w=ah.data(s,c,ah.makeArray(A))}else{w.push(A)}return w}},dequeue:function(s,c){c=c||"fx";var A=ah.queue(s,c),w=A.shift();if(w==="inprogress"){w=A.shift()}if(w){c==="fx"&&A.unshift("inprogress");w.call(s,function(){ah.dequeue(s,c)})}}});ah.fn.extend({queue:function(s,c){if(typeof s!=="string"){c=s;s="fx"}if(c===I){return ah.queue(this[0],s)}return this.each(function(){var w=ah.queue(this,s,c);s==="fx"&&w[0]!=="inprogress"&&ah.dequeue(this,s)})},dequeue:function(c){return this.each(function(){ah.dequeue(this,c)})},delay:function(s,c){s=ah.fx?ah.fx.speeds[s]||s:s;c=c||"fx";return this.queue(c,function(){var w=this;setTimeout(function(){ah.dequeue(w,c)},s)})},clearQueue:function(c){return this.queue(c||"fx",[])}});var be=/[\n\t]/g,U=/\s+/,a8=/\r/g,aM=/href|src|style/,aU=/(button|input)/i,aw=/(button|input|object|select|textarea)/i,S=/^(a|area)$/i,aY=/radio|checkbox/;ah.fn.extend({attr:function(s,c){return ap(this,s,c,true,ah.attr)},removeAttr:function(c){return this.each(function(){ah.attr(this,c,"");this.nodeType===1&&this.removeAttribute(c)})},addClass:function(L){if(ah.isFunction(L)){return this.each(function(O){var N=ah(this);N.addClass(L.call(this,O,N.attr("class")))})}if(L&&typeof L==="string"){for(var K=(L||"").split(U),J=0,F=this.length;J<F;J++){var G=this[J];if(G.nodeType===1){if(G.className){for(var w=" "+G.className+" ",A=G.className,c=0,s=K.length;c<s;c++){if(w.indexOf(" "+K[c]+" ")<0){A+=" "+K[c]}}G.className=ah.trim(A)}else{G.className=L}}}}return this},removeClass:function(s){if(ah.isFunction(s)){return this.each(function(L){var N=ah(this);N.removeClass(s.call(this,L,N.attr("class")))})}if(s&&typeof s==="string"||s===I){for(var c=(s||"").split(U),K=0,F=this.length;K<F;K++){var G=this[K];if(G.nodeType===1&&G.className){if(s){for(var w=(" "+G.className+" ").replace(be," "),A=0,J=c.length;A<J;A++){w=w.replace(" "+c[A]+" "," ")}G.className=ah.trim(w)}else{G.className=""}}}}return this},toggleClass:function(s,c){var A=typeof s,w=typeof c==="boolean";if(ah.isFunction(s)){return this.each(function(G){var F=ah(this);F.toggleClass(s.call(this,G,F.attr("class"),c),c)})}return this.each(function(){if(A==="string"){for(var K,G=0,J=ah(this),L=c,F=s.split(U);K=F[G++];){L=w?L:!J.hasClass(K);J[L?"addClass":"removeClass"](K)}}else{if(A==="undefined"||A==="boolean"){this.className&&ah.data(this,"__className__",this.className);this.className=this.className||s===false?"":ah.data(this,"__className__")||""}}})},hasClass:function(s){s=" "+s+" ";for(var c=0,w=this.length;c<w;c++){if((" "+this[c].className+" ").replace(be," ").indexOf(s)>-1){return true}}return false},val:function(s){if(s===I){var c=this[0];if(c){if(ah.nodeName(c,"option")){return(c.attributes.value||{}).specified?c.value:c.text}if(ah.nodeName(c,"select")){var K=c.selectedIndex,F=[],G=c.options;c=c.type==="select-one";if(K<0){return null}var w=c?K:0;for(K=c?K+1:G.length;w<K;w++){var A=G[w];if(A.selected){s=ah(A).val();if(c){return s}F.push(s)}}return F}if(aY.test(c.type)&&!ah.support.checkOn){return c.getAttribute("value")===null?"on":c.value}return(c.value||"").replace(a8,"")}return I}var J=ah.isFunction(s);return this.each(function(L){var P=ah(this),O=s;if(this.nodeType===1){if(J){O=s.call(this,L,P.val())}if(typeof O==="number"){O+=""}if(ah.isArray(O)&&aY.test(this.type)){this.checked=ah.inArray(P.val(),O)>=0}else{if(ah.nodeName(this,"select")){var N=ah.makeArray(O);ah("option",this).each(function(){this.selected=ah.inArray(ah(this).val(),N)>=0});if(!N.length){this.selectedIndex=-1}}else{this.value=O}}}})}});ah.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(s,c,G,A){if(!s||s.nodeType===3||s.nodeType===8){return I}if(A&&c in ah.attrFn){return ah(s)[c](G)}A=s.nodeType!==1||!ah.isXMLDoc(s);var F=G!==I;c=A&&ah.props[c]||c;if(s.nodeType===1){var w=aM.test(c);if(c in s&&A&&!w){if(F){c==="type"&&aU.test(s.nodeName)&&s.parentNode&&ah.error("type property can't be changed");s[c]=G}if(ah.nodeName(s,"form")&&s.getAttributeNode(c)){return s.getAttributeNode(c).nodeValue}if(c==="tabIndex"){return(c=s.getAttributeNode("tabIndex"))&&c.specified?c.value:aw.test(s.nodeName)||S.test(s.nodeName)&&s.href?0:I}return s[c]}if(!ah.support.style&&A&&c==="style"){if(F){s.style.cssText=""+G}return s.style.cssText}F&&s.setAttribute(c,""+G);s=!ah.support.hrefNormalized&&A&&w?s.getAttribute(c,2):s.getAttribute(c);return s===null?I:s}return ah.style(s,c,G)}});var az=/\.(.*)$/,r=function(c){return c.replace(/[^\w\s\.\|`]/g,function(s){return"\\"+s})};ah.event={add:function(P,O,L,J){if(!(P.nodeType===3||P.nodeType===8)){if(P.setInterval&&P!==aO&&!P.frameElement){P=aO}var K,F;if(L.handler){K=L;L=K.handler}if(!L.guid){L.guid=ah.guid++}if(F=ah.data(P)){var G=F.events=F.events||{},s=F.handle;if(!s){F.handle=s=function(){return typeof ah!=="undefined"&&!ah.event.triggered?ah.event.handle.apply(s.elem,arguments):I}}s.elem=P;O=O.split(" ");for(var A,w=0,c;A=O[w++];){F=K?ah.extend({},K):{handler:L,data:J};if(A.indexOf(".")>-1){c=A.split(".");A=c.shift();F.namespace=c.slice(0).sort().join(".")}else{c=[];F.namespace=""}F.type=A;F.guid=L.guid;var Q=G[A],N=ah.event.special[A]||{};if(!Q){Q=G[A]=[];if(!N.setup||N.setup.call(P,J,c,s)===false){if(P.addEventListener){P.addEventListener(A,s,false)}else{P.attachEvent&&P.attachEvent("on"+A,s)}}}if(N.add){N.add.call(P,F);if(!F.handler.guid){F.handler.guid=L.guid}}Q.push(F);ah.event.global[A]=true}P=null}}},global:{},remove:function(R,Q,O,L){if(!(R.nodeType===3||R.nodeType===8)){var N,J=0,K,A,G,F,c,T,P=ah.data(R),s=P&&P.events;if(P&&s){if(Q&&Q.type){O=Q.handler;Q=Q.type}if(!Q||typeof Q==="string"&&Q.charAt(0)==="."){Q=Q||"";for(N in s){ah.event.remove(R,N+Q)}}else{for(Q=Q.split(" ");N=Q[J++];){F=N;K=N.indexOf(".")<0;A=[];if(!K){A=N.split(".");N=A.shift();G=new RegExp("(^|\\.)"+ah.map(A.slice(0).sort(),r).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(c=s[N]){if(O){F=ah.event.special[N]||{};for(w=L||0;w<c.length;w++){T=c[w];if(O.guid===T.guid){if(K||G.test(T.namespace)){L==null&&c.splice(w--,1);F.remove&&F.remove.call(R,T)}if(L!=null){break}}}if(c.length===0||L!=null&&c.length===1){if(!F.teardown||F.teardown.call(R,A)===false){aG(R,N,P.handle)}delete s[N]}}else{for(var w=0;w<c.length;w++){T=c[w];if(K||G.test(T.namespace)){ah.event.remove(R,F,T.handler,w);c.splice(w--,1)}}}}}if(ah.isEmptyObject(s)){if(Q=P.handle){Q.elem=null}delete P.events;delete P.handle;ah.isEmptyObject(P)&&ah.removeData(R)}}}}},trigger:function(N,L,K,G){var J=N.type||N;if(!G){N=typeof N==="object"?N[aH]?N:ah.extend(ah.Event(J),N):ah.Event(J);if(J.indexOf("!")>=0){N.type=J=J.slice(0,-1);N.exclusive=true}if(!K){N.stopPropagation();ah.event.global[J]&&ah.each(ah.cache,function(){this.events&&this.events[J]&&ah.event.trigger(N,L,this.handle.elem)})}if(!K||K.nodeType===3||K.nodeType===8){return I}N.result=I;N.target=K;L=ah.makeArray(L);L.unshift(N)}N.currentTarget=K;(G=ah.data(K,"handle"))&&G.apply(K,L);G=K.parentNode||K.ownerDocument;try{if(!(K&&K.nodeName&&ah.noData[K.nodeName.toLowerCase()])){if(K["on"+J]&&K["on"+J].apply(K,L)===false){N.result=false}}}catch(A){}if(!N.isPropagationStopped()&&G){ah.event.trigger(N,L,G,true)}else{if(!N.isDefaultPrevented()){G=N.target;var F,c=ah.nodeName(G,"a")&&J==="click",w=ah.event.special[J]||{};if((!w._default||w._default.call(K,N)===false)&&!c&&!(G&&G.nodeName&&ah.noData[G.nodeName.toLowerCase()])){try{if(G[J]){if(F=G["on"+J]){G["on"+J]=null}ah.event.triggered=true;G[J]()}}catch(s){}if(F){G["on"+J]=F}ah.event.triggered=false}}}},handle:function(s){var c,J,F,G;s=arguments[0]=ah.event.fix(s||aO.event);s.currentTarget=this;c=s.type.indexOf(".")<0&&!s.exclusive;if(!c){J=s.type.split(".");s.type=J.shift();F=new RegExp("(^|\\.)"+J.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}G=ah.data(this,"events");J=G[s.type];if(G&&J){J=J.slice(0);G=0;for(var w=J.length;G<w;G++){var A=J[G];if(c||F.test(A.namespace)){s.handler=A.handler;s.data=A.data;s.handleObj=A;A=A.handler.apply(this,arguments);if(A!==I){s.result=A;if(A===false){s.preventDefault();s.stopPropagation()}}if(s.isImmediatePropagationStopped()){break}}}}return s.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(s){if(s[aH]){return s}var c=s;s=ah.Event(c);for(var A=this.props.length,w;A;){w=this.props[--A];s[w]=c[w]}if(!s.target){s.target=s.srcElement||M}if(s.target.nodeType===3){s.target=s.target.parentNode}if(!s.relatedTarget&&s.fromElement){s.relatedTarget=s.fromElement===s.target?s.toElement:s.fromElement}if(s.pageX==null&&s.clientX!=null){c=M.documentElement;A=M.body;s.pageX=s.clientX+(c&&c.scrollLeft||A&&A.scrollLeft||0)-(c&&c.clientLeft||A&&A.clientLeft||0);s.pageY=s.clientY+(c&&c.scrollTop||A&&A.scrollTop||0)-(c&&c.clientTop||A&&A.clientTop||0)}if(!s.which&&(s.charCode||s.charCode===0?s.charCode:s.keyCode)){s.which=s.charCode||s.keyCode}if(!s.metaKey&&s.ctrlKey){s.metaKey=s.ctrlKey}if(!s.which&&s.button!==I){s.which=s.button&1?1:s.button&2?3:s.button&4?2:0}return s},guid:100000000,proxy:ah.proxy,special:{ready:{setup:ah.bindReady,teardown:ah.noop},live:{add:function(c){ah.event.add(this,c.origType,ah.extend({},c,{handler:ag}))},remove:function(s){var c=true,w=s.origType.replace(az,"");ah.each(ah.data(this,"events").live||[],function(){if(w===this.origType.replace(az,"")){return c=false}});c&&ah.event.remove(this,s.origType,ag)}},beforeunload:{setup:function(s,c,w){if(this.setInterval){this.onbeforeunload=w}return false},teardown:function(s,c){if(this.onbeforeunload===c){this.onbeforeunload=null}}}}};var aG=M.removeEventListener?function(s,c,w){s.removeEventListener(c,w,false)}:function(s,c,w){s.detachEvent("on"+c,w)};ah.Event=function(c){if(!this.preventDefault){return new ah.Event(c)}if(c&&c.type){this.originalEvent=c;this.type=c.type}else{this.type=c}this.timeStamp=aF();this[aH]=true};ah.Event.prototype={preventDefault:function(){this.isDefaultPrevented=am;var c=this.originalEvent;if(c){c.preventDefault&&c.preventDefault();c.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=am;var c=this.originalEvent;if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=am;this.stopPropagation()},isDefaultPrevented:ao,isPropagationStopped:ao,isImmediatePropagationStopped:ao};var ae=function(s){var c=s.relatedTarget;try{for(;c&&c!==this;){c=c.parentNode}if(c!==this){s.type=s.data;ah.event.handle.apply(this,arguments)}}catch(w){}},x=function(c){c.type=c.data;ah.event.handle.apply(this,arguments)};ah.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(s,c){ah.event.special[s]={setup:function(w){ah.event.add(this,c,w&&w.selector?x:ae,s)},teardown:function(w){ah.event.remove(this,c,w&&w.selector?x:ae)}}});if(!ah.support.submitBubbles){ah.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){ah.event.add(this,"click.specialSubmit",function(s){var c=s.target,w=c.type;if((w==="submit"||w==="image")&&ah(c).closest("form").length){return aK("submit",this,arguments)}});ah.event.add(this,"keypress.specialSubmit",function(s){var c=s.target,w=c.type;if((w==="text"||w==="password")&&ah(c).closest("form").length&&s.keyCode===13){return aK("submit",this,arguments)}})}else{return false}},teardown:function(){ah.event.remove(this,".specialSubmit")}}}if(!ah.support.changeBubbles){var t=/textarea|input|select/i,g,j=function(s){var c=s.type,w=s.value;if(c==="radio"||c==="checkbox"){w=s.checked}else{if(c==="select-multiple"){w=s.selectedIndex>-1?ah.map(s.options,function(A){return A.selected}).join("-"):""}else{if(s.nodeName.toLowerCase()==="select"){w=s.selectedIndex}}}return w},bd=function(s,c){var F=s.target,w,A;if(!(!t.test(F.nodeName)||F.readOnly)){w=ah.data(F,"_change_data");A=j(F);if(s.type!=="focusout"||F.type!=="radio"){ah.data(F,"_change_data",A)}if(!(w===I||A===w)){if(w!=null||A){s.type="change";return ah.event.trigger(s,c,F)}}}};ah.event.special.change={filters:{focusout:bd,click:function(s){var c=s.target,w=c.type;if(w==="radio"||w==="checkbox"||c.nodeName.toLowerCase()==="select"){return bd.call(this,s)}},keydown:function(s){var c=s.target,w=c.type;if(s.keyCode===13&&c.nodeName.toLowerCase()!=="textarea"||s.keyCode===32&&(w==="checkbox"||w==="radio")||w==="select-multiple"){return bd.call(this,s)}},beforeactivate:function(c){c=c.target;ah.data(c,"_change_data",j(c))}},setup:function(){if(this.type==="file"){return false}for(var c in g){ah.event.add(this,c+".specialChange",g[c])}return t.test(this.nodeName)},teardown:function(){ah.event.remove(this,".specialChange");return t.test(this.nodeName)}};g=ah.event.special.change.filters}M.addEventListener&&ah.each({focus:"focusin",blur:"focusout"},function(s,c){function w(A){A=ah.event.fix(A);A.type=c;return ah.event.handle.call(this,A)}ah.event.special[c]={setup:function(){this.addEventListener(s,w,true)},teardown:function(){this.removeEventListener(s,w,true)}}});ah.each(["bind","one"],function(s,c){ah.fn[c]=function(K,F,G){if(typeof K==="object"){for(var w in K){this[c](w,F,K[w],G)}return this}if(ah.isFunction(F)){G=F;F=I}var A=c==="one"?ah.proxy(G,function(L){ah(this).unbind(L,A);return G.apply(this,arguments)}):G;if(K==="unload"&&c!=="one"){this.one(K,F,G)}else{w=0;for(var J=this.length;w<J;w++){ah.event.add(this[w],K,A,F)}}return this}});ah.fn.extend({unbind:function(s,c){if(typeof s==="object"&&!s.preventDefault){for(var A in s){this.unbind(A,s[A])}}else{A=0;for(var w=this.length;A<w;A++){ah.event.remove(this[A],s,c)}}return this},delegate:function(s,c,A,w){return this.live(c,A,w,s)},undelegate:function(s,c,w){return arguments.length===0?this.unbind("live"):this.die(c,null,w,s)},trigger:function(s,c){return this.each(function(){ah.event.trigger(s,c,this)})},triggerHandler:function(s,c){if(this[0]){s=ah.Event(s);s.preventDefault();s.stopPropagation();ah.event.trigger(s,c,this[0]);return s.result}},toggle:function(s){for(var c=arguments,w=1;w<c.length;){ah.proxy(s,c[w++])}return this.click(ah.proxy(s,function(A){var F=(ah.data(this,"lastToggle"+s.guid)||0)%w;ah.data(this,"lastToggle"+s.guid,F+1);A.preventDefault();return c[F].apply(this,arguments)||false}))},hover:function(s,c){return this.mouseenter(s).mouseleave(c||s)}});var bh={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};ah.each(["live","die"],function(s,c){ah.fn[c]=function(O,L,N,J){var K,A=0,G,F,w=J||this.selector,P=J?this:ah(this.context);if(ah.isFunction(L)){N=L;L=I}for(O=(O||"").split(" ");(K=O[A++])!=null;){J=az.exec(K);G="";if(J){G=J[0];K=K.replace(az,"")}if(K==="hover"){O.push("mouseenter"+G,"mouseleave"+G)}else{F=K;if(K==="focus"||K==="blur"){O.push(bh[K]+G);K+=G}else{K=(bh[K]||K)+G}c==="live"?P.each(function(){ah.event.add(this,z(K,w),{data:L,selector:w,handler:N,origType:K,origHandler:N,preType:F})}):P.unbind(z(K,w),N)}}return this}});ah.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(s,c){ah.fn[c]=function(w){return w?this.bind(c,w):this.trigger(c)};if(ah.attrFn){ah.attrFn[c]=true}});aO.attachEvent&&!aO.addEventListener&&aO.attachEvent("onunload",function(){for(var s in ah.cache){if(ah.cache[s].handle){try{ah.event.remove(ah.cache[s].handle.elem)}catch(c){}}}});(function(){function W(ab){for(var aa="",Z,Y=0;ab[Y];Y++){Z=ab[Y];if(Z.nodeType===3||Z.nodeType===4){aa+=Z.nodeValue}else{if(Z.nodeType!==8){aa+=W(Z.childNodes)}}}return aa}function V(bb,ba,ab,aa,Y,Z){Y=0;for(var bm=aa.length;Y<bm;Y++){var bn=aa[Y];if(bn){bn=bn[bb];for(var bl=false;bn;){if(bn.sizcache===ab){bl=aa[bn.sizset];break}if(bn.nodeType===1&&!Z){bn.sizcache=ab;bn.sizset=Y}if(bn.nodeName.toLowerCase()===ba){bl=bn;break}bn=bn[bb]}aa[Y]=bl}}}function T(bb,ba,ab,aa,Y,Z){Y=0;for(var bm=aa.length;Y<bm;Y++){var bn=aa[Y];if(bn){bn=bn[bb];for(var bl=false;bn;){if(bn.sizcache===ab){bl=aa[bn.sizset];break}if(bn.nodeType===1){if(!Z){bn.sizcache=ab;bn.sizset=Y}if(typeof ba!=="string"){if(bn===ba){bl=true;break}}else{if(N.filter(ba,[bn]).length>0){bl=bn;break}}}bn=bn[bb]}aa[Y]=bl}}}var Q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,R=0,O=Object.prototype.toString,P=false,K=true;[0,0].sort(function(){K=false;return 0});var N=function(bm,bl,ba,ab){ba=ba||[];var Z=bl=bl||M;if(bl.nodeType!==1&&bl.nodeType!==9){return[]}if(!bm||typeof bm!=="string"){return ba}for(var aa=[],br,bs,bo,bb,bq=true,bn=s(bl),bp=bm;(Q.exec(""),br=Q.exec(bp))!==null;){bp=br[3];aa.push(br[1]);if(br[2]){bb=br[3];break}}if(aa.length>1&&G.exec(bm)){if(aa.length===2&&L.relative[aa[0]]){bs=X(aa[0]+aa[1],bl)}else{for(bs=L.relative[aa[0]]?[bl]:N(aa.shift(),bl);aa.length;){bm=aa.shift();if(L.relative[bm]){bm+=aa.shift()}bs=X(bm,bs)}}}else{if(!ab&&aa.length>1&&bl.nodeType===9&&!bn&&L.match.ID.test(aa[0])&&!L.match.ID.test(aa[aa.length-1])){br=N.find(aa.shift(),bl,bn);bl=br.expr?N.filter(br.expr,br.set)[0]:br.set[0]}if(bl){br=ab?{expr:aa.pop(),set:c(ab)}:N.find(aa.pop(),aa.length===1&&(aa[0]==="~"||aa[0]==="+")&&bl.parentNode?bl.parentNode:bl,bn);bs=br.expr?N.filter(br.expr,br.set):br.set;if(aa.length>0){bo=c(bs)}else{bq=false}for(;aa.length;){var Y=aa.pop();br=Y;if(L.relative[Y]){br=aa.pop()}else{Y=""}if(br==null){br=bl}L.relative[Y](bo,br,bn)}}else{bo=[]}}bo||(bo=bs);bo||N.error(Y||bm);if(O.call(bo)==="[object Array]"){if(bq){if(bl&&bl.nodeType===1){for(bm=0;bo[bm]!=null;bm++){if(bo[bm]&&(bo[bm]===true||bo[bm].nodeType===1&&A(bl,bo[bm]))){ba.push(bs[bm])}}}else{for(bm=0;bo[bm]!=null;bm++){bo[bm]&&bo[bm].nodeType===1&&ba.push(bs[bm])}}}else{ba.push.apply(ba,bo)}}else{c(bo,ba)}if(bb){N(bb,Z,ba,ab);N.uniqueSort(ba)}return ba};N.uniqueSort=function(Z){if(J){P=K;Z.sort(J);if(P){for(var Y=1;Y<Z.length;Y++){Z[Y]===Z[Y-1]&&Z.splice(Y--,1)}}}return Z};N.matches=function(Z,Y){return N(Z,null,null,Y)};N.find=function(bb,ba,ab){var aa,Y;if(!bb){return[]}for(var Z=0,bm=L.order.length;Z<bm;Z++){var bn=L.order[Z];if(Y=L.leftMatch[bn].exec(bb)){var bl=Y[1];Y.splice(1,1);if(bl.substr(bl.length-1)!=="\\"){Y[1]=(Y[1]||"").replace(/\\/g,"");aa=L.find[bn](Y,ba,ab);if(aa!=null){bb=bb.replace(L.match[bn],"");break}}}}aa||(aa=ba.getElementsByTagName("*"));return{set:aa,expr:bb}};N.filter=function(bn,bm,bb,ab){for(var Z=bn,aa=[],bt=bm,bu,bq,bl=bm&&bm[0]&&s(bm[0]);bn&&bm.length;){for(var bs in L.filter){if((bu=L.leftMatch[bs].exec(bn))!=null&&bu[2]){var bo=L.filter[bs],br,Y;Y=bu[1];bq=false;bu.splice(1,1);if(Y.substr(Y.length-1)!=="\\"){if(bt===aa){aa=[]}if(L.preFilter[bs]){if(bu=L.preFilter[bs](bu,bt,bb,aa,ab,bl)){if(bu===true){continue}}else{bq=br=true}}if(bu){for(var ba=0;(Y=bt[ba])!=null;ba++){if(Y){br=bo(Y,bu,ba,bt);var bp=ab^!!br;if(bb&&br!=null){if(bp){bq=true}else{bt[ba]=false}}else{if(bp){aa.push(Y);bq=true}}}}}if(br!==I){bb||(bt=aa);bn=bn.replace(L.match[bs],"");if(!bq){return[]}break}}}}if(bn===Z){if(bq==null){N.error(bn)}else{break}}Z=bn}return bt};N.error=function(Y){throw"Syntax error, unrecognized expression: "+Y};var L=N.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(Y){return Y.getAttribute("href")}},relative:{"+":function(ab,aa){var Z=typeof aa==="string",Y=Z&&!/\W/.test(aa);Z=Z&&!Y;if(Y){aa=aa.toLowerCase()}Y=0;for(var ba=ab.length,bb;Y<ba;Y++){if(bb=ab[Y]){for(;(bb=bb.previousSibling)&&bb.nodeType!==1;){}ab[Y]=Z||bb&&bb.nodeName.toLowerCase()===aa?bb||false:bb===aa}}Z&&N.filter(aa,ab,true)},">":function(ab,aa){var Z=typeof aa==="string";if(Z&&!/\W/.test(aa)){aa=aa.toLowerCase();for(var Y=0,ba=ab.length;Y<ba;Y++){var bb=ab[Y];if(bb){Z=bb.parentNode;ab[Y]=Z.nodeName.toLowerCase()===aa?Z:false}}}else{Y=0;for(ba=ab.length;Y<ba;Y++){if(bb=ab[Y]){ab[Y]=Z?bb.parentNode:bb.parentNode===aa}}Z&&N.filter(aa,ab,true)}},"":function(ab,aa,Z){var Y=R++,ba=T;if(typeof aa==="string"&&!/\W/.test(aa)){var bb=aa=aa.toLowerCase();ba=V}ba("parentNode",aa,Y,ab,bb,Z)},"~":function(ab,aa,Z){var Y=R++,ba=T;if(typeof aa==="string"&&!/\W/.test(aa)){var bb=aa=aa.toLowerCase();ba=V}ba("previousSibling",aa,Y,ab,bb,Z)}},find:{ID:function(aa,Z,Y){if(typeof Z.getElementById!=="undefined"&&!Y){return(aa=Z.getElementById(aa[1]))?[aa]:[]}},NAME:function(ab,aa){if(typeof aa.getElementsByName!=="undefined"){var Z=[];aa=aa.getElementsByName(ab[1]);for(var Y=0,ba=aa.length;Y<ba;Y++){aa[Y].getAttribute("name")===ab[1]&&Z.push(aa[Y])}return Z.length===0?null:Z}},TAG:function(Z,Y){return Y.getElementsByTagName(Z[1])}},preFilter:{CLASS:function(ba,ab,Z,Y,bb,bl){ba=" "+ba[1].replace(/\\/g,"")+" ";if(bl){return ba}bl=0;for(var aa;(aa=ab[bl])!=null;bl++){if(aa){if(bb^(aa.className&&(" "+aa.className+" ").replace(/[\t\n]/g," ").indexOf(ba)>=0)){Z||Y.push(aa)}else{if(Z){ab[bl]=false}}}}return false},ID:function(Y){return Y[1].replace(/\\/g,"")},TAG:function(Y){return Y[1].toLowerCase()},CHILD:function(Z){if(Z[1]==="nth"){var Y=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(Z[2]==="even"&&"2n"||Z[2]==="odd"&&"2n+1"||!/\D/.test(Z[2])&&"0n+"+Z[2]||Z[2]);Z[2]=Y[1]+(Y[2]||1)-0;Z[3]=Y[3]-0}Z[0]=R++;return Z},ATTR:function(ab,aa,Z,Y,ba,bb){aa=ab[1].replace(/\\/g,"");if(!bb&&L.attrMap[aa]){ab[1]=L.attrMap[aa]}if(ab[2]==="~="){ab[4]=" "+ab[4]+" "}return ab},PSEUDO:function(ab,aa,Z,Y,ba){if(ab[1]==="not"){if((Q.exec(ab[3])||"").length>1||/^\w/.test(ab[3])){ab[3]=N(ab[3],null,null,aa)}else{ab=N.filter(ab[3],aa,Z,true^ba);Z||Y.push.apply(Y,ab);return false}}else{if(L.match.POS.test(ab[0])||L.match.CHILD.test(ab[0])){return true}}return ab},POS:function(Y){Y.unshift(true);return Y}},filters:{enabled:function(Y){return Y.disabled===false&&Y.type!=="hidden"},disabled:function(Y){return Y.disabled===true},checked:function(Y){return Y.checked===true},selected:function(Y){return Y.selected===true},parent:function(Y){return !!Y.firstChild},empty:function(Y){return !Y.firstChild},has:function(aa,Z,Y){return !!N(Y[3],aa).length},header:function(Y){return/h\d/i.test(Y.nodeName)},text:function(Y){return"text"===Y.type},radio:function(Y){return"radio"===Y.type},checkbox:function(Y){return"checkbox"===Y.type},file:function(Y){return"file"===Y.type},password:function(Y){return"password"===Y.type},submit:function(Y){return"submit"===Y.type},image:function(Y){return"image"===Y.type},reset:function(Y){return"reset"===Y.type},button:function(Y){return"button"===Y.type||Y.nodeName.toLowerCase()==="button"},input:function(Y){return/input|select|textarea|button/i.test(Y.nodeName)}},setFilters:{first:function(Z,Y){return Y===0},last:function(ab,aa,Z,Y){return aa===Y.length-1},even:function(Z,Y){return Y%2===0},odd:function(Z,Y){return Y%2===1},lt:function(aa,Z,Y){return Z<Y[3]-0},gt:function(aa,Z,Y){return Z>Y[3]-0},nth:function(aa,Z,Y){return Y[3]-0===Z},eq:function(aa,Z,Y){return Y[3]-0===Z}},filter:{PSEUDO:function(ab,aa,Z,Y){var ba=aa[1],bb=L.filters[ba];if(bb){return bb(ab,Z,aa,Y)}else{if(ba==="contains"){return(ab.textContent||ab.innerText||W([ab])||"").indexOf(aa[3])>=0}else{if(ba==="not"){aa=aa[3];Z=0;for(Y=aa.length;Z<Y;Z++){if(aa[Z]===ab){return false}}return true}else{N.error("Syntax error, unrecognized expression: "+ba)}}}},CHILD:function(ba,ab){var Z=ab[1],Y=ba;switch(Z){case"only":case"first":for(;Y=Y.previousSibling;){if(Y.nodeType===1){return false}}if(Z==="first"){return true}Y=ba;case"last":for(;Y=Y.nextSibling;){if(Y.nodeType===1){return false}}return true;case"nth":Z=ab[2];var bb=ab[3];if(Z===1&&bb===0){return true}ab=ab[0];var bl=ba.parentNode;if(bl&&(bl.sizcache!==ab||!ba.nodeIndex)){var aa=0;for(Y=bl.firstChild;Y;Y=Y.nextSibling){if(Y.nodeType===1){Y.nodeIndex=++aa}}bl.sizcache=ab}ba=ba.nodeIndex-bb;return Z===0?ba===0:ba%Z===0&&ba/Z>=0}},ID:function(Z,Y){return Z.nodeType===1&&Z.getAttribute("id")===Y},TAG:function(Z,Y){return Y==="*"&&Z.nodeType===1||Z.nodeName.toLowerCase()===Y},CLASS:function(Z,Y){return(" "+(Z.className||Z.getAttribute("class"))+" ").indexOf(Y)>-1},ATTR:function(ab,aa){var Z=aa[1];ab=L.attrHandle[Z]?L.attrHandle[Z](ab):ab[Z]!=null?ab[Z]:ab.getAttribute(Z);Z=ab+"";var Y=aa[2];aa=aa[4];return ab==null?Y==="!=":Y==="="?Z===aa:Y==="*="?Z.indexOf(aa)>=0:Y==="~="?(" "+Z+" ").indexOf(aa)>=0:!aa?Z&&ab!==false:Y==="!="?Z!==aa:Y==="^="?Z.indexOf(aa)===0:Y==="$="?Z.substr(Z.length-aa.length)===aa:Y==="|="?Z===aa||Z.substr(0,aa.length+1)===aa+"-":false},POS:function(ab,aa,Z,Y){var ba=L.setFilters[aa[2]];if(ba){return ba(ab,Z,aa,Y)}}}},G=L.match.POS;for(var w in L.match){L.match[w]=new RegExp(L.match[w].source+/(?![^\[]*\])(?![^\(]*\))/.source);L.leftMatch[w]=new RegExp(/(^(?:.|\r|\n)*?)/.source+L.match[w].source.replace(/\\(\d+)/g,function(Z,Y){return"\\"+(Y-0+1)}))}var c=function(Z,Y){Z=Array.prototype.slice.call(Z,0);if(Y){Y.push.apply(Y,Z);return Y}return Z};try{Array.prototype.slice.call(M.documentElement.childNodes,0)}catch(F){c=function(ab,aa){aa=aa||[];if(O.call(ab)==="[object Array]"){Array.prototype.push.apply(aa,ab)}else{if(typeof ab.length==="number"){for(var Z=0,Y=ab.length;Z<Y;Z++){aa.push(ab[Z])}}else{for(Z=0;ab[Z];Z++){aa.push(ab[Z])}}}return aa}}var J;if(M.documentElement.compareDocumentPosition){J=function(Z,Y){if(!Z.compareDocumentPosition||!Y.compareDocumentPosition){if(Z==Y){P=true}return Z.compareDocumentPosition?-1:1}Z=Z.compareDocumentPosition(Y)&4?-1:Z===Y?0:1;if(Z===0){P=true}return Z}}else{if("sourceIndex" in M.documentElement){J=function(Z,Y){if(!Z.sourceIndex||!Y.sourceIndex){if(Z==Y){P=true}return Z.sourceIndex?-1:1}Z=Z.sourceIndex-Y.sourceIndex;if(Z===0){P=true}return Z}}else{if(M.createRange){J=function(ab,aa){if(!ab.ownerDocument||!aa.ownerDocument){if(ab==aa){P=true}return ab.ownerDocument?-1:1}var Z=ab.ownerDocument.createRange(),Y=aa.ownerDocument.createRange();Z.setStart(ab,0);Z.setEnd(ab,0);Y.setStart(aa,0);Y.setEnd(aa,0);ab=Z.compareBoundaryPoints(Range.START_TO_END,Y);if(ab===0){P=true}return ab}}}}(function(){var aa=M.createElement("div"),Z="script"+(new Date).getTime();aa.innerHTML="<a name='"+Z+"'/>";var Y=M.documentElement;Y.insertBefore(aa,Y.firstChild);if(M.getElementById(Z)){L.find.ID=function(ab,ba,bb){if(typeof ba.getElementById!=="undefined"&&!bb){return(ba=ba.getElementById(ab[1]))?ba.id===ab[1]||typeof ba.getAttributeNode!=="undefined"&&ba.getAttributeNode("id").nodeValue===ab[1]?[ba]:I:[]}};L.filter.ID=function(ab,ba){var bb=typeof ab.getAttributeNode!=="undefined"&&ab.getAttributeNode("id");return ab.nodeType===1&&bb&&bb.nodeValue===ba}}Y.removeChild(aa);Y=aa=null})();(function(){var Y=M.createElement("div");Y.appendChild(M.createComment(""));if(Y.getElementsByTagName("*").length>0){L.find.TAG=function(ab,aa){aa=aa.getElementsByTagName(ab[1]);if(ab[1]==="*"){ab=[];for(var Z=0;aa[Z];Z++){aa[Z].nodeType===1&&ab.push(aa[Z])}aa=ab}return aa}}Y.innerHTML="<a href='#'></a>";if(Y.firstChild&&typeof Y.firstChild.getAttribute!=="undefined"&&Y.firstChild.getAttribute("href")!=="#"){L.attrHandle.href=function(Z){return Z.getAttribute("href",2)}}Y=null})();M.querySelectorAll&&function(){var aa=N,Z=M.createElement("div");Z.innerHTML="<p class='TEST'></p>";if(!(Z.querySelectorAll&&Z.querySelectorAll(".TEST").length===0)){N=function(ab,bl,bm,ba){bl=bl||M;if(!ba&&bl.nodeType===9&&!s(bl)){try{return c(bl.querySelectorAll(ab),bm)}catch(bb){}}return aa(ab,bl,bm,ba)};for(var Y in aa){N[Y]=aa[Y]}Z=null}}();(function(){var Y=M.createElement("div");Y.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!Y.getElementsByClassName||Y.getElementsByClassName("e").length===0)){Y.lastChild.className="e";if(Y.getElementsByClassName("e").length!==1){L.order.splice(1,0,"CLASS");L.find.CLASS=function(ab,aa,Z){if(typeof aa.getElementsByClassName!=="undefined"&&!Z){return aa.getElementsByClassName(ab[1])}};Y=null}}})();var A=M.compareDocumentPosition?function(Z,Y){return !!(Z.compareDocumentPosition(Y)&16)}:function(Z,Y){return Z!==Y&&(Z.contains?Z.contains(Y):true)},s=function(Y){return(Y=(Y?Y.ownerDocument||Y:0).documentElement)?Y.nodeName!=="HTML":false},X=function(ab,aa){var Z=[],Y="",ba;for(aa=aa.nodeType?[aa]:aa;ba=L.match.PSEUDO.exec(ab);){Y+=ba[0];ab=ab.replace(L.match.PSEUDO,"")}ab=L.relative[ab]?ab+"*":ab;ba=0;for(var bb=aa.length;ba<bb;ba++){N(ab,aa[ba],Z)}return N.filter(Y,Z)};ah.find=N;ah.expr=N.selectors;ah.expr[":"]=ah.expr.filters;ah.unique=N.uniqueSort;ah.text=W;ah.isXMLDoc=s;ah.contains=A})();var f=/Until$/,a9=/^(?:parents|prevUntil|prevAll)/,aW=/,/;au=Array.prototype.slice;var aL=function(s,c,A){if(ah.isFunction(c)){return ah.grep(s,function(G,F){return !!c.call(G,F,G)===A})}else{if(c.nodeType){return ah.grep(s,function(F){return F===c===A})}else{if(typeof c==="string"){var w=ah.grep(s,function(F){return F.nodeType===1});if(aT.test(c)){return ah.filter(c,w,!A)}else{c=ah.filter(c,w)}}}}return ah.grep(s,function(F){return ah.inArray(F,c)>=0===A})};ah.fn.extend({find:function(s){for(var c=this.pushStack("","find",s),J=0,F=0,G=this.length;F<G;F++){J=c.length;ah.find(s,this[F],c);if(F>0){for(var w=J;w<c.length;w++){for(var A=0;A<J;A++){if(c[A]===c[w]){c.splice(w--,1);break}}}}}return c},has:function(s){var c=ah(s);return this.filter(function(){for(var A=0,w=c.length;A<w;A++){if(ah.contains(this,c[A])){return true}}})},not:function(c){return this.pushStack(aL(this,c,false),"not",c)},filter:function(c){return this.pushStack(aL(this,c,true),"filter",c)},is:function(c){return !!c&&ah.filter(c,this).length>0},closest:function(L,K){if(ah.isArray(L)){var J=[],F=this[0],G,w={},A;if(F&&L.length){G=0;for(var c=L.length;G<c;G++){A=L[G];w[A]||(w[A]=ah.expr.match.POS.test(A)?ah(A,K||this.context):A)}for(;F&&F.ownerDocument&&F!==K;){for(A in w){G=w[A];if(G.jquery?G.index(F)>-1:ah(F).is(G)){J.push({selector:A,elem:F});delete w[A]}}F=F.parentNode}}return J}var s=ah.expr.match.POS.test(L)?ah(L,K||this.context):null;return this.map(function(O,N){for(;N&&N.ownerDocument&&N!==K;){if(s?s.index(N)>-1:ah(N).is(L)){return N}N=N.parentNode}return null})},index:function(c){if(!c||typeof c==="string"){return ah.inArray(this[0],c?ah(c):this.parent().children())}return ah.inArray(c.jquery?c[0]:c,this)},add:function(s,c){s=typeof s==="string"?ah(s,c||this.context):ah.makeArray(s);c=ah.merge(this.get(),s);return this.pushStack(l(s[0])||l(c[0])?c:ah.unique(c))},andSelf:function(){return this.add(this.prevObject)}});ah.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return ah.dir(c,"parentNode")},parentsUntil:function(s,c,w){return ah.dir(s,"parentNode",w)},next:function(c){return ah.nth(c,2,"nextSibling")},prev:function(c){return ah.nth(c,2,"previousSibling")},nextAll:function(c){return ah.dir(c,"nextSibling")},prevAll:function(c){return ah.dir(c,"previousSibling")},nextUntil:function(s,c,w){return ah.dir(s,"nextSibling",w)},prevUntil:function(s,c,w){return ah.dir(s,"previousSibling",w)},siblings:function(c){return ah.sibling(c.parentNode.firstChild,c)},children:function(c){return ah.sibling(c.firstChild)},contents:function(c){return ah.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:ah.makeArray(c.childNodes)}},function(s,c){ah.fn[s]=function(F,w){var A=ah.map(this,c,F);f.test(s)||(w=F);if(w&&typeof w==="string"){A=ah.filter(w,A)}A=this.length>1?ah.unique(A):A;if((this.length>1||aW.test(w))&&a9.test(s)){A=A.reverse()}return this.pushStack(A,s,au.call(arguments).join(","))}});ah.extend({filter:function(s,c,w){if(w){s=":not("+s+")"}return ah.find.matches(s,c)},dir:function(s,c,A){var w=[];for(s=s[c];s&&s.nodeType!==9&&(A===I||s.nodeType!==1||!ah(s).is(A));){s.nodeType===1&&w.push(s);s=s[c]}return w},nth:function(s,c,A){c=c||1;for(var w=0;s;s=s[A]){if(s.nodeType===1&&++w===c){break}}return s},sibling:function(s,c){for(var w=[];s;s=s.nextSibling){s.nodeType===1&&s!==c&&w.push(s)}return w}});var ai=/ jQuery\d+="(?:\d+|null)"/g,ar=/^\s+/,B=/(<([\w:]+)[^>]*?)\/>/g,aD=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,m=/<([\w:]+)/,ac=/<tbody/i,u=/<|&#?\w+;/,aP=/<script|<object|<embed|<option|<style/i,ak=/checked\s*(?:[^=]|=\s*.checked.)/i,bk=function(s,c,w){return aD.test(w)?s:c+"></"+w+">"},aJ={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};aJ.optgroup=aJ.option;aJ.tbody=aJ.tfoot=aJ.colgroup=aJ.caption=aJ.thead;aJ.th=aJ.td;if(!ah.support.htmlSerialize){aJ._default=[1,"div<div>","</div>"]}ah.fn.extend({text:function(c){if(ah.isFunction(c)){return this.each(function(s){var w=ah(this);w.text(c.call(this,s,w.text()))})}if(typeof c!=="object"&&c!==I){return this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(c))}return ah.text(this)},wrapAll:function(s){if(ah.isFunction(s)){return this.each(function(w){ah(this).wrapAll(s.call(this,w))})}if(this[0]){var c=ah(s,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var w=this;w.firstChild&&w.firstChild.nodeType===1;){w=w.firstChild}return w}).append(this)}return this},wrapInner:function(c){if(ah.isFunction(c)){return this.each(function(s){ah(this).wrapInner(c.call(this,s))})}return this.each(function(){var s=ah(this),w=s.contents();w.length?w.wrapAll(c):s.append(c)})},wrap:function(c){return this.each(function(){ah(this).wrapAll(c)})},unwrap:function(){return this.parent().each(function(){ah.nodeName(this,"body")||ah(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(s){this.parentNode.insertBefore(s,this)})}else{if(arguments.length){var c=ah(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(s){this.parentNode.insertBefore(s,this.nextSibling)})}else{if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,ah(arguments[0]).toArray());return c}}},remove:function(s,c){for(var A=0,w;(w=this[A])!=null;A++){if(!s||ah.filter(s,[w]).length){if(!c&&w.nodeType===1){ah.cleanData(w.getElementsByTagName("*"));ah.cleanData([w])}w.parentNode&&w.parentNode.removeChild(w)}}return this},empty:function(){for(var s=0,c;(c=this[s])!=null;s++){for(c.nodeType===1&&ah.cleanData(c.getElementsByTagName("*"));c.firstChild;){c.removeChild(c.firstChild)}}return this},clone:function(s){var c=this.map(function(){if(!ah.support.noCloneEvent&&!ah.isXMLDoc(this)){var A=this.outerHTML,w=this.ownerDocument;if(!A){A=w.createElement("div");A.appendChild(this.cloneNode(true));A=A.innerHTML}return ah.clean([A.replace(ai,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(ar,"")],w)[0]}else{return this.cloneNode(true)}});if(s===true){bj(this,c);bj(this.find("*"),c.find("*"))}return c},html:function(s){if(s===I){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ai,""):null}else{if(typeof s==="string"&&!aP.test(s)&&(ah.support.leadingWhitespace||!ar.test(s))&&!aJ[(m.exec(s)||["",""])[1].toLowerCase()]){s=s.replace(B,bk);try{for(var c=0,A=this.length;c<A;c++){if(this[c].nodeType===1){ah.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=s}}}catch(w){this.empty().append(s)}}else{ah.isFunction(s)?this.each(function(J){var F=ah(this),G=F.html();F.empty().append(function(){return s.call(this,J,G)})}):this.empty().append(s)}}return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(ah.isFunction(c)){return this.each(function(s){var A=ah(this),w=A.html();A.replaceWith(c.call(this,s,w))})}if(typeof c!=="string"){c=ah(c).detach()}return this.each(function(){var s=this.nextSibling,w=this.parentNode;ah(this).remove();s?ah(s).before(c):ah(w).append(c)})}else{return this.pushStack(ah(ah.isFunction(c)?c():c),"replaceWith",c)}},detach:function(c){return this.remove(c,true)},domManip:function(O,N,L){function J(P){return ah.nodeName(P,"table")?P.getElementsByTagName("tbody")[0]||P.appendChild(P.ownerDocument.createElement("tbody")):P}var K,F,G=O[0],s=[],A;if(!ah.support.checkClone&&arguments.length===3&&typeof G==="string"&&ak.test(G)){return this.each(function(){ah(this).domManip(O,N,L,true)})}if(ah.isFunction(G)){return this.each(function(P){var Q=ah(this);O[0]=G.call(this,P,N?Q.html():I);Q.domManip(O,N,L)})}if(this[0]){K=G&&G.parentNode;K=ah.support.parentNode&&K&&K.nodeType===11&&K.childNodes.length===this.length?{fragment:K}:a3(O,this,s);A=K.fragment;if(F=A.childNodes.length===1?(A=A.firstChild):A.firstChild){N=N&&ah.nodeName(F,"tr");for(var w=0,c=this.length;w<c;w++){L.call(N?J(this[w],F):this[w],w>0||K.cacheable||this.length>1?A.cloneNode(true):A)}}s.length&&ah.each(s,E)}return this}});ah.fragments={};ah.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,c){ah.fn[s]=function(J){var F=[];J=ah(J);var G=this.length===1&&this[0].parentNode;if(G&&G.nodeType===11&&G.childNodes.length===1&&J.length===1){J[c](this[0]);return this}else{G=0;for(var w=J.length;G<w;G++){var A=(G>0?this.clone(true):this).get();ah.fn[c].apply(ah(J[G]),A);F=F.concat(A)}return this.pushStack(F,s,J.selector)}}});ah.extend({clean:function(O,N,L,J){N=N||M;if(typeof N.createElement==="undefined"){N=N.ownerDocument||N[0]&&N[0].ownerDocument||M}for(var K=[],F=0,G;(G=O[F])!=null;F++){if(typeof G==="number"){G+=""}if(G){if(typeof G==="string"&&!u.test(G)){G=N.createTextNode(G)}else{if(typeof G==="string"){G=G.replace(B,bk);var s=(m.exec(G)||["",""])[1].toLowerCase(),A=aJ[s]||aJ._default,w=A[0],c=N.createElement("div");for(c.innerHTML=A[1]+G+A[2];w--;){c=c.lastChild}if(!ah.support.tbody){w=ac.test(G);s=s==="table"&&!w?c.firstChild&&c.firstChild.childNodes:A[1]==="<table>"&&!w?c.childNodes:[];for(A=s.length-1;A>=0;--A){ah.nodeName(s[A],"tbody")&&!s[A].childNodes.length&&s[A].parentNode.removeChild(s[A])}}!ah.support.leadingWhitespace&&ar.test(G)&&c.insertBefore(N.createTextNode(ar.exec(G)[0]),c.firstChild);G=c.childNodes}}if(G.nodeType){K.push(G)}else{K=ah.merge(K,G)}}}if(L){for(F=0;K[F];F++){if(J&&ah.nodeName(K[F],"script")&&(!K[F].type||K[F].type.toLowerCase()==="text/javascript")){J.push(K[F].parentNode?K[F].parentNode.removeChild(K[F]):K[F])}else{K[F].nodeType===1&&K.splice.apply(K,[F+1,0].concat(ah.makeArray(K[F].getElementsByTagName("script"))));L.appendChild(K[F])}}}return K},cleanData:function(L){for(var K,J,F=ah.cache,G=ah.event.special,w=ah.support.deleteExpando,A=0,c;(c=L[A])!=null;A++){if(J=c[ah.expando]){K=F[J];if(K.events){for(var s in K.events){G[s]?ah.event.remove(c,s):aG(c,s,K.handle)}}if(w){delete c[ah.expando]}else{c.removeAttribute&&c.removeAttribute(ah.expando)}delete F[J]}}}});var h=/z-?index|font-?weight|opacity|zoom|line-?height/i,a4=/alpha\([^)]*\)/,aQ=/opacity=([^)]*)/,aE=/float/i,ad=/-([a-z])/ig,bf=/([A-Z])/g,aZ=/^-?\d+(?:px)?$/i,aI=/^-?\d/,af={position:"absolute",visibility:"hidden",display:"block"},y=["Left","Right"],k=["Top","Bottom"],bi=M.defaultView&&M.defaultView.getComputedStyle,al=ah.support.cssFloat?"cssFloat":"styleFloat",v=function(s,c){return c.toUpperCase()};ah.fn.css=function(s,c){return ap(this,s,c,true,function(F,w,A){if(A===I){return ah.curCSS(F,w)}if(typeof A==="number"&&!h.test(w)){A+="px"}ah.style(F,w,A)})};ah.extend({style:function(s,c,F){if(!s||s.nodeType===3||s.nodeType===8){return I}if((c==="width"||c==="height")&&parseFloat(F)<0){F=I}var w=s.style||s,A=F!==I;if(!ah.support.opacity&&c==="opacity"){if(A){w.zoom=1;c=parseInt(F,10)+""==="NaN"?"":"alpha(opacity="+F*100+")";s=w.filter||ah.curCSS(s,"filter")||"";w.filter=a4.test(s)?s.replace(a4,c):c}return w.filter&&w.filter.indexOf("opacity=")>=0?parseFloat(aQ.exec(w.filter)[1])/100+"":""}if(aE.test(c)){c=al}c=c.replace(ad,v);if(A){w[c]=F}return w[c]},css:function(s,c,J,F){if(c==="width"||c==="height"){var G,w=c==="width"?y:k;function A(){G=c==="width"?s.offsetWidth:s.offsetHeight;F!=="border"&&ah.each(w,function(){F||(G-=parseFloat(ah.curCSS(s,"padding"+this,true))||0);if(F==="margin"){G+=parseFloat(ah.curCSS(s,"margin"+this,true))||0}else{G-=parseFloat(ah.curCSS(s,"border"+this+"Width",true))||0}})}s.offsetWidth!==0?A():ah.swap(s,af,A);return Math.max(0,Math.round(G))}return ah.curCSS(s,c,J)},curCSS:function(s,c,G){var A,F=s.style;if(!ah.support.opacity&&c==="opacity"&&s.currentStyle){A=aQ.test(s.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return A===""?"1":A}if(aE.test(c)){c=al}if(!G&&F&&F[c]){A=F[c]}else{if(bi){if(aE.test(c)){c="float"}c=c.replace(bf,"-$1").toLowerCase();F=s.ownerDocument.defaultView;if(!F){return null}if(s=F.getComputedStyle(s,null)){A=s.getPropertyValue(c)}if(c==="opacity"&&A===""){A="1"}}else{if(s.currentStyle){G=c.replace(ad,v);A=s.currentStyle[c]||s.currentStyle[G];if(!aZ.test(A)&&aI.test(A)){c=F.left;var w=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left;F.left=G==="fontSize"?"1em":A||0;A=F.pixelLeft+"px";F.left=c;s.runtimeStyle.left=w}}}}return A},swap:function(s,c,F){var w={};for(var A in c){w[A]=s.style[A];s.style[A]=c[A]}F.call(s);for(A in c){s.style[A]=w[A]}}});if(ah.expr&&ah.expr.filters){ah.expr.filters.hidden=function(s){var c=s.offsetWidth,A=s.offsetHeight,w=s.nodeName.toLowerCase()==="tr";return c===0&&A===0&&!w?true:c>0&&A>0&&!w?false:ah.curCSS(s,"display")==="none"};ah.expr.filters.visible=function(c){return !ah.expr.filters.hidden(c)}}var a2=aF(),aN=/<script(.|\s)*?\/script>/gi,aj=/select|textarea/i,C=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,aA=/=\?(&|$)/,i=/\?/,n=/(\?|&)_=.*?(&|$)/,a=/^(\w+:)?\/\/([^\/?#]+)/,a5=/%20/g,aR=ah.fn.load;ah.fn.extend({load:function(s,c,G){if(typeof s!=="string"){return aR.call(this,s)}else{if(!this.length){return this}}var A=s.indexOf(" ");if(A>=0){var F=s.slice(A,s.length);s=s.slice(0,A)}A="GET";if(c){if(ah.isFunction(c)){G=c;c=null}else{if(typeof c==="object"){c=ah.param(c,ah.ajaxSettings.traditional);A="POST"}}}var w=this;ah.ajax({url:s,type:A,dataType:"html",data:c,complete:function(J,K){if(K==="success"||K==="notmodified"){w.html(F?ah("<div />").append(J.responseText.replace(aN,"")).find(F):J.responseText)}G&&w.each(G,[J.responseText,K,J])}});return this},serialize:function(){return ah.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?ah.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aj.test(this.nodeName)||C.test(this.type))}).map(function(s,c){s=ah(this).val();return s==null?null:ah.isArray(s)?ah.map(s,function(w){return{name:c.name,value:w}}):{name:c.name,value:s}}).get()}});ah.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(s,c){ah.fn[c]=function(w){return this.bind(c,w)}});ah.extend({get:function(s,c,A,w){if(ah.isFunction(c)){w=w||A;A=c;c=null}return ah.ajax({type:"GET",url:s,data:c,success:A,dataType:w})},getScript:function(s,c){return ah.get(s,null,c,"script")},getJSON:function(s,c,w){return ah.get(s,c,w,"json")},post:function(s,c,A,w){if(ah.isFunction(c)){w=w||A;A=c;c={}}return ah.ajax({type:"POST",url:s,data:c,success:A,dataType:w})},ajaxSetup:function(c){ah.extend(ah.ajaxSettings,c)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:aO.XMLHttpRequest&&(aO.location.protocol!=="file:"||!aO.ActiveXObject)?function(){return new aO.XMLHttpRequest}:function(){try{return new aO.ActiveXObject("Microsoft.XMLHTTP")}catch(c){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(aa){function Z(){X.success&&X.success.call(P,K,R,s);X.global&&W("ajaxSuccess",[s,X])}function Y(){X.complete&&X.complete.call(P,s,R);X.global&&W("ajaxComplete",[s,X]);X.global&&!--ah.active&&ah.event.trigger("ajaxStop")}function W(ba,bb){(X.context?ah(X.context):ah.event).trigger(ba,bb)}var X=ah.extend(true,{},ah.ajaxSettings,aa),Q,R,K,P=aa&&aa.context||X,L=X.type.toUpperCase();if(X.data&&X.processData&&typeof X.data!=="string"){X.data=ah.param(X.data,X.traditional)}if(X.dataType==="jsonp"){if(L==="GET"){aA.test(X.url)||(X.url+=(i.test(X.url)?"&":"?")+(X.jsonp||"callback")+"=?")}else{if(!X.data||!aA.test(X.data)){X.data=(X.data?X.data+"&":"")+(X.jsonp||"callback")+"=?"}}X.dataType="json"}if(X.dataType==="json"&&(X.data&&aA.test(X.data)||aA.test(X.url))){Q=X.jsonpCallback||"jsonp"+a2++;if(X.data){X.data=(X.data+"").replace(aA,"="+Q+"$1")}X.url=X.url.replace(aA,"="+Q+"$1");X.dataType="script";aO[Q]=aO[Q]||function(ba){K=ba;Z();Y();aO[Q]=I;try{delete aO[Q]}catch(bb){}c&&c.removeChild(F)}}if(X.dataType==="script"&&X.cache===null){X.cache=false}if(X.cache===false&&L==="GET"){var G=aF(),w=X.url.replace(n,"$1_="+G+"$2");X.url=w+(w===X.url?(i.test(X.url)?"&":"?")+"_="+G:"")}if(X.data&&L==="GET"){X.url+=(i.test(X.url)?"&":"?")+X.data}X.global&&!ah.active++&&ah.event.trigger("ajaxStart");G=(G=a.exec(X.url))&&(G[1]&&G[1]!==location.protocol||G[2]!==location.host);if(X.dataType==="script"&&L==="GET"&&G){var c=M.getElementsByTagName("head")[0]||M.documentElement,F=M.createElement("script");F.src=X.url;if(X.scriptCharset){F.charset=X.scriptCharset}if(!Q){var J=false;F.onload=F.onreadystatechange=function(){if(!J&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){J=true;Z();Y();F.onload=F.onreadystatechange=null;c&&F.parentNode&&c.removeChild(F)}}}c.insertBefore(F,c.firstChild);return I}var A=false,s=X.xhr();if(s){X.username?s.open(L,X.url,X.async,X.username,X.password):s.open(L,X.url,X.async);try{if(X.data||aa&&aa.contentType){s.setRequestHeader("Content-Type",X.contentType)}if(X.ifModified){ah.lastModified[X.url]&&s.setRequestHeader("If-Modified-Since",ah.lastModified[X.url]);ah.etag[X.url]&&s.setRequestHeader("If-None-Match",ah.etag[X.url])}G||s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Accept",X.dataType&&X.accepts[X.dataType]?X.accepts[X.dataType]+", */*":X.accepts._default)}catch(ab){}if(X.beforeSend&&X.beforeSend.call(P,s,X)===false){X.global&&!--ah.active&&ah.event.trigger("ajaxStop");s.abort();return false}X.global&&W("ajaxSend",[s,X]);var V=s.onreadystatechange=function(bb){if(!s||s.readyState===0||bb==="abort"){A||Y();A=true;if(s){s.onreadystatechange=ah.noop}}else{if(!A&&s&&(s.readyState===4||bb==="timeout")){A=true;s.onreadystatechange=ah.noop;R=bb==="timeout"?"timeout":!ah.httpSuccess(s)?"error":X.ifModified&&ah.httpNotModified(s,X.url)?"notmodified":"success";var bl;if(R==="success"){try{K=ah.httpData(s,X.dataType,X)}catch(ba){R="parsererror";bl=ba}}if(R==="success"||R==="notmodified"){Q||Z()}else{ah.handleError(X,s,R,bl)}Y();bb==="timeout"&&s.abort();if(X.async){s=null}}}};try{var T=s.abort;s.abort=function(){s&&T.call(s);V("abort")}}catch(O){}X.async&&X.timeout>0&&setTimeout(function(){s&&!A&&V("timeout")},X.timeout);try{s.send(L==="POST"||L==="PUT"||L==="DELETE"?X.data:null)}catch(N){ah.handleError(X,s,null,N);Y()}X.async||V();return s}},handleError:function(s,c,A,w){if(s.error){s.error.call(s.context||s,c,A,w)}if(s.global){(s.context?ah(s.context):ah.event).trigger("ajaxError",[c,s,w])}},active:0,httpSuccess:function(s){try{return !s.status&&location.protocol==="file:"||s.status>=200&&s.status<300||s.status===304||s.status===1223||s.status===0}catch(c){}return false},httpNotModified:function(s,c){var A=s.getResponseHeader("Last-Modified"),w=s.getResponseHeader("Etag");if(A){ah.lastModified[c]=A}if(w){ah.etag[c]=w}return s.status===304||s.status===0},httpData:function(s,c,F){var w=s.getResponseHeader("content-type")||"",A=c==="xml"||!c&&w.indexOf("xml")>=0;s=A?s.responseXML:s.responseText;A&&s.documentElement.nodeName==="parsererror"&&ah.error("parsererror");if(F&&F.dataFilter){s=F.dataFilter(s,c)}if(typeof s==="string"){if(c==="json"||!c&&w.indexOf("json")>=0){s=ah.parseJSON(s)}else{if(c==="script"||!c&&w.indexOf("javascript")>=0){ah.globalEval(s)}}}return s},param:function(s,c){function G(J,K){if(ah.isArray(K)){ah.each(K,function(L,N){c||/\[\]$/.test(J)?A(J,N):G(J+"["+(typeof N==="object"||ah.isArray(N)?L:"")+"]",N)})}else{!c&&K!=null&&typeof K==="object"?ah.each(K,function(L,N){G(J+"["+L+"]",N)}):A(J,K)}}function A(J,K){K=ah.isFunction(K)?K():K;F[F.length]=encodeURIComponent(J)+"="+encodeURIComponent(K)}var F=[];if(c===I){c=ah.ajaxSettings.traditional}if(ah.isArray(s)||s.jquery){ah.each(s,function(){A(this.name,this.value)})}else{for(var w in s){G(w,s[w])}}return F.join("&").replace(a5,"+")}});var bg={},bc=/toggle|show|hide/,aX=/^([+-]=)?([\d+-.]+)(.*)$/,aq,D=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];ah.fn.extend({show:function(s,c){if(s||s===0){return this.animate(aC("show",3),s,c)}else{s=0;for(c=this.length;s<c;s++){var F=ah.data(this[s],"olddisplay");this[s].style.display=F||"";if(ah.css(this[s],"display")==="none"){F=this[s].nodeName;var w;if(bg[F]){w=bg[F]}else{var A=ah("<"+F+" />").appendTo("body");w=A.css("display");if(w==="none"){w="block"}A.remove();bg[F]=w}ah.data(this[s],"olddisplay",w)}}s=0;for(c=this.length;s<c;s++){this[s].style.display=ah.data(this[s],"olddisplay")||""}return this}},hide:function(s,c){if(s||s===0){return this.animate(aC("hide",3),s,c)}else{s=0;for(c=this.length;s<c;s++){var w=ah.data(this[s],"olddisplay");!w&&w!=="none"&&ah.data(this[s],"olddisplay",ah.css(this[s],"display"))}s=0;for(c=this.length;s<c;s++){this[s].style.display="none"}return this}},_toggle:ah.fn.toggle,toggle:function(s,c){var w=typeof s==="boolean";if(ah.isFunction(s)&&ah.isFunction(c)){this._toggle.apply(this,arguments)}else{s==null||w?this.each(function(){var A=w?s:ah(this).is(":hidden");ah(this)[A?"show":"hide"]()}):this.animate(aC("toggle",3),s,c)}return this},fadeTo:function(s,c,w){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},s,w)},animate:function(s,c,F,w){var A=ah.speed(c,F,w);if(ah.isEmptyObject(s)){return this.each(A.complete)}return this[A.queue===false?"each":"queue"](function(){var J=ah.extend({},A),K,L=this.nodeType===1&&ah(this).is(":hidden"),G=this;for(K in s){var N=K.replace(ad,v);if(K!==N){s[N]=s[K];delete s[K];K=N}if(s[K]==="hide"&&L||s[K]==="show"&&!L){return J.complete.call(this)}if((K==="height"||K==="width")&&this.style){J.display=ah.css(this,"display");J.overflow=this.style.overflow}if(ah.isArray(s[K])){(J.specialEasing=J.specialEasing||{})[K]=s[K][1];s[K]=s[K][0]}}if(J.overflow!=null){this.style.overflow="hidden"}J.curAnim=ah.extend({},s);ah.each(s,function(P,O){var T=new ah.fx(G,J,P);if(bc.test(O)){T[O==="toggle"?L?"show":"hide":O](s)}else{var R=aX.exec(O),V=T.cur(true)||0;if(R){O=parseFloat(R[2]);var Q=R[3]||"px";if(Q!=="px"){G.style[P]=(O||1)+Q;V=(O||1)/T.cur(true)*V;G.style[P]=V+Q}if(R[1]){O=(R[1]==="-="?-1:1)*O+V}T.custom(V,O,Q)}else{T.custom(V,O,"")}}});return true})},stop:function(s,c){var w=ah.timers;s&&this.queue([]);this.each(function(){for(var A=w.length-1;A>=0;A--){if(w[A].elem===this){c&&w[A](true);w.splice(A,1)}}});c||this.dequeue();return this}});ah.each({slideDown:aC("show",1),slideUp:aC("hide",1),slideToggle:aC("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(s,c){ah.fn[s]=function(A,w){return this.animate(c,A,w)}});ah.extend({speed:function(s,c,A){var w=s&&typeof s==="object"?s:{complete:A||!A&&c||ah.isFunction(s)&&s,duration:s,easing:A&&c||c&&!ah.isFunction(c)&&c};w.duration=ah.fx.off?0:typeof w.duration==="number"?w.duration:ah.fx.speeds[w.duration]||ah.fx.speeds._default;w.old=w.complete;w.complete=function(){w.queue!==false&&ah(this).dequeue();ah.isFunction(w.old)&&w.old.call(this)};return w},easing:{linear:function(s,c,A,w){return A+w*s},swing:function(s,c,A,w){return(-Math.cos(s*Math.PI)/2+0.5)*w+A}},timers:[],fx:function(s,c,w){this.options=c;this.elem=s;this.prop=w;if(!c.orig){c.orig={}}}});ah.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(ah.fx.step[this.prop]||ah.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(c){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}return(c=parseFloat(ah.css(this.elem,this.prop,c)))&&c>-10000?c:parseFloat(ah.curCSS(this.elem,this.prop))||0},custom:function(s,c,F){function w(G){return A.step(G)}this.startTime=aF();this.start=s;this.end=c;this.unit=F||this.unit||"px";this.now=this.start;this.pos=this.state=0;var A=this;w.elem=this.elem;if(w()&&ah.timers.push(w)&&!aq){aq=setInterval(ah.fx.tick,13)}},show:function(){this.options.orig[this.prop]=ah.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());ah(this.elem).show()},hide:function(){this.options.orig[this.prop]=ah.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(s){var c=aF(),F=true;if(s||c>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var w in this.options.curAnim){if(this.options.curAnim[w]!==true){F=false}}if(F){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;s=ah.data(this.elem,"olddisplay");this.elem.style.display=s?s:this.options.display;if(ah.css(this.elem,"display")==="none"){this.elem.style.display="block"}}this.options.hide&&ah(this.elem).hide();if(this.options.hide||this.options.show){for(var A in this.options.curAnim){ah.style(this.elem,A,this.options.orig[A])}}this.options.complete.call(this.elem)}return false}else{A=c-this.startTime;this.state=A/this.options.duration;s=this.options.easing||(ah.easing.swing?"swing":"linear");this.pos=ah.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||s](this.state,A,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};ah.extend(ah.fx,{tick:function(){for(var s=ah.timers,c=0;c<s.length;c++){s[c]()||s.splice(c--,1)}s.length||ah.fx.stop()},stop:function(){clearInterval(aq);aq=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){ah.style(c.elem,"opacity",c.now)},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null){c.elem.style[c.prop]=(c.prop==="width"||c.prop==="height"?Math.max(0,c.now):c.now)+c.unit}else{c.elem[c.prop]=c.now}}}});if(ah.expr&&ah.expr.filters){ah.expr.filters.animated=function(c){return ah.grep(ah.timers,function(s){return c===s.elem}).length}}ah.fn.offset="getBoundingClientRect" in M.documentElement?function(s){var c=this[0];if(s){return this.each(function(F){ah.offset.setOffset(this,s,F)})}if(!c||!c.ownerDocument){return null}if(c===c.ownerDocument.body){return ah.offset.bodyOffset(c)}var A=c.getBoundingClientRect(),w=c.ownerDocument;c=w.body;w=w.documentElement;return{top:A.top+(self.pageYOffset||ah.support.boxModel&&w.scrollTop||c.scrollTop)-(w.clientTop||c.clientTop||0),left:A.left+(self.pageXOffset||ah.support.boxModel&&w.scrollLeft||c.scrollLeft)-(w.clientLeft||c.clientLeft||0)}}:function(N){var L=this[0];if(N){return this.each(function(O){ah.offset.setOffset(this,N,O)})}if(!L||!L.ownerDocument){return null}if(L===L.ownerDocument.body){return ah.offset.bodyOffset(L)}ah.offset.initialize();var K=L.offsetParent,G=L,J=L.ownerDocument,A,F=J.documentElement,c=J.body;G=(J=J.defaultView)?J.getComputedStyle(L,null):L.currentStyle;for(var w=L.offsetTop,s=L.offsetLeft;(L=L.parentNode)&&L!==c&&L!==F;){if(ah.offset.supportsFixedPosition&&G.position==="fixed"){break}A=J?J.getComputedStyle(L,null):L.currentStyle;w-=L.scrollTop;s-=L.scrollLeft;if(L===K){w+=L.offsetTop;s+=L.offsetLeft;if(ah.offset.doesNotAddBorder&&!(ah.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(L.nodeName))){w+=parseFloat(A.borderTopWidth)||0;s+=parseFloat(A.borderLeftWidth)||0}G=K;K=L.offsetParent}if(ah.offset.subtractsBorderForOverflowNotVisible&&A.overflow!=="visible"){w+=parseFloat(A.borderTopWidth)||0;s+=parseFloat(A.borderLeftWidth)||0}G=A}if(G.position==="relative"||G.position==="static"){w+=c.offsetTop;s+=c.offsetLeft}if(ah.offset.supportsFixedPosition&&G.position==="fixed"){w+=Math.max(F.scrollTop,c.scrollTop);s+=Math.max(F.scrollLeft,c.scrollLeft)}return{top:w,left:s}};ah.offset={initialize:function(){var s=M.body,c=M.createElement("div"),G,A,F,w=parseFloat(ah.curCSS(s,"marginTop",true))||0;ah.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";s.insertBefore(c,s.firstChild);G=c.firstChild;A=G.firstChild;F=G.nextSibling.firstChild.firstChild;this.doesNotAddBorder=A.offsetTop!==5;this.doesAddBorderForTableAndCells=F.offsetTop===5;A.style.position="fixed";A.style.top="20px";this.supportsFixedPosition=A.offsetTop===20||A.offsetTop===15;A.style.position=A.style.top="";G.style.overflow="hidden";G.style.position="relative";this.subtractsBorderForOverflowNotVisible=A.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=s.offsetTop!==w;s.removeChild(c);ah.offset.initialize=ah.noop},bodyOffset:function(s){var c=s.offsetTop,w=s.offsetLeft;ah.offset.initialize();if(ah.offset.doesNotIncludeMarginInBodyOffset){c+=parseFloat(ah.curCSS(s,"marginTop",true))||0;w+=parseFloat(ah.curCSS(s,"marginLeft",true))||0}return{top:c,left:w}},setOffset:function(s,c,J){if(/static/.test(ah.curCSS(s,"position"))){s.style.position="relative"}var F=ah(s),G=F.offset(),w=parseInt(ah.curCSS(s,"top",true),10)||0,A=parseInt(ah.curCSS(s,"left",true),10)||0;if(ah.isFunction(c)){c=c.call(s,J,G)}J={top:c.top-G.top+w,left:c.left-G.left+A};"using" in c?c.using.call(s,J):F.css(J)}};ah.fn.extend({position:function(){if(!this[0]){return null}var s=this[0],c=this.offsetParent(),A=this.offset(),w=/^body|html$/i.test(c[0].nodeName)?{top:0,left:0}:c.offset();A.top-=parseFloat(ah.curCSS(s,"marginTop",true))||0;A.left-=parseFloat(ah.curCSS(s,"marginLeft",true))||0;w.top+=parseFloat(ah.curCSS(c[0],"borderTopWidth",true))||0;w.left+=parseFloat(ah.curCSS(c[0],"borderLeftWidth",true))||0;return{top:A.top-w.top,left:A.left-w.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||M.body;c&&!/^body|html$/i.test(c.nodeName)&&ah.css(c,"position")==="static";){c=c.offsetParent}return c})}});ah.each(["Left","Top"],function(s,c){var w="scroll"+c;ah.fn[w]=function(F){var G=this[0],A;if(!G){return null}if(F!==I){return this.each(function(){if(A=o(this)){A.scrollTo(!s?F:ah(A).scrollLeft(),s?F:ah(A).scrollTop())}else{this[w]=F}})}else{return(A=o(G))?"pageXOffset" in A?A[s?"pageYOffset":"pageXOffset"]:ah.support.boxModel&&A.document.documentElement[w]||A.document.body[w]:G[w]}}});ah.each(["Height","Width"],function(s,c){var w=c.toLowerCase();ah.fn["inner"+c]=function(){return this[0]?ah.css(this[0],w,false,"padding"):null};ah.fn["outer"+c]=function(A){return this[0]?ah.css(this[0],w,false,A?"margin":"border"):null};ah.fn[w]=function(A){var F=this[0];if(!F){return A==null?null:this}if(ah.isFunction(A)){return this.each(function(G){var J=ah(this);J[w](A.call(this,G,J[w]()))})}return"scrollTo" in F&&F.document?F.document.compatMode==="CSS1Compat"&&F.document.documentElement["client"+c]||F.document.body["client"+c]:F.nodeType===9?Math.max(F.documentElement["client"+c],F.body["scroll"+c],F.documentElement["scroll"+c],F.body["offset"+c],F.documentElement["offset"+c]):A===I?ah.css(F,w):this.css(w,typeof A==="string"?A:A+"px")}});aO.jQuery=aO.$=ah})(window);
/*
 * jQuery UI 1.8rc3
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||(function(c){var d=c.browser.mozilla&&(parseFloat(c.browser.version)<1.9);c.ui={version:"1.8rc3",plugin:{add:function(i,h,a){var b=c.ui[i].prototype;for(var j in a){b.plugins[j]=b.plugins[j]||[];b.plugins[j].push([h,a[j]])}},call:function(j,h,i){var a=j.plugins[h];if(!a||!j.element[0].parentNode){return}for(var b=0;b<a.length;b++){if(j.options[a[b][0]]){a[b][1].apply(j.element,i)}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,g){if(c(a).css("overflow")=="hidden"){return false}var h=(g&&g=="left")?"scrollLeft":"scrollTop",b=false;if(a[h]>0){return true}a[h]=1;b=(a[h]>0);a[h]=0;return b},isOverAxis:function(b,f,a){return(b>f)&&(b<(f+a))},isOver:function(a,k,b,i,l,j){return c.ui.isOverAxis(a,b,l)&&c.ui.isOverAxis(k,i,j)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};c.fn.extend({_focus:c.fn.focus,focus:function(b,a){return typeof b==="number"?this.each(function(){var f=this;setTimeout(function(){c(f).focus();(a&&a.call(f))},b)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var a;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==undefined){return this.css("zIndex",a)}if(this.length){var g=c(this[0]),h,b;while(g.length&&g[0]!==document){h=g.css("position");if(h=="absolute"||h=="relative"||h=="fixed"){b=parseInt(g.css("zIndex"));if(!isNaN(b)&&b!=0){return b}}g=g.parent()}}return 0}});c.extend(c.expr[":"],{data:function(a,b,f){return !!c.data(a,f[3])},focusable:function(b){var a=b.nodeName.toLowerCase(),f=c.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"==a||"area"==a?b.href||!isNaN(f):!isNaN(f))&&!c(b)["area"==a?"parents":"closest"](":hidden").length},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}})})(jQuery);
/*
 * jQuery UI Widget 1.8rc3
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c){var d=c.fn.remove;c.fn.remove=function(b,a){return this.each(function(){if(!a){if(!b||c.filter(b,[this]).length){c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})}}return d.call(c(this),b,a)})};c.widget=function(k,i,l){var j=k.split(".")[0],a;k=k.split(".")[1];a=j+"-"+k;if(!l){l=i;i=c.Widget}c.expr[":"][a]=function(e){return !!c.data(e,k)};c[j]=c[j]||{};c[j][k]=function(f,e){if(arguments.length){this._createWidget(f,e)}};var b=new i();b.options=c.extend({},b.options);c[j][k].prototype=c.extend(true,b,{namespace:j,widgetName:k,widgetEventPrefix:c[j][k].prototype.widgetEventPrefix||k,widgetBaseClass:a},l);c.widget.bridge(k,c[j][k])};c.widget.bridge=function(a,b){c.fn[a]=function(j){var l=typeof j==="string",k=Array.prototype.slice.call(arguments,1),i=this;j=!l&&k.length?c.extend.apply(null,[true,j].concat(k)):j;if(l&&j.substring(0,1)==="_"){return i}if(l){this.each(function(){var f=c.data(this,a),e=f&&c.isFunction(f[j])?f[j].apply(f,k):f;if(e!==f&&e!==undefined){i=e;return false}})}else{this.each(function(){var e=c.data(this,a);if(e){if(j){e.option(j)}e._init()}else{c.data(this,a,new b(j,this))}})}return i}};c.Widget=function(b,a){if(arguments.length){this._createWidget(b,a)}};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,a){this.element=c(a).data(this.widgetName,this);this.options=c.extend(true,{},this.options,c.metadata&&c.metadata.get(a)[this.widgetName],b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled")},widget:function(){return this.element},option:function(b,a){var g=b,h=this;if(arguments.length===0){return c.extend({},h.options)}if(typeof b==="string"){if(a===undefined){return this.options[b]}g={};g[b]=a}c.each(g,function(f,e){h._setOption(f,e)});return h},_setOption:function(b,a){this.options[b]=a;if(b==="disabled"){this.widget()[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",a)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(k,j,i){var a=this.options[k];j=c.Event(j);j.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase();i=i||{};if(j.originalEvent){for(var l=c.event.props.length,b;l;){b=c.event.props[--l];j[b]=j.originalEvent[b]}}this.element.trigger(j,i);return !(c.isFunction(a)&&a.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8rc3
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(d){return a._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(a._preventClickEvent){a._preventClickEvent=false;d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(g){g.originalEvent=g.originalEvent||{};if(g.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var h=this,f=(g.which==1),a=(typeof this.options.cancel=="string"?b(g.target).parents().add(g.target).filter(this.options.cancel).length:false);if(!f||a||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}this._mouseMoveDelegate=function(c){return h._mouseMove(c)};this._mouseUpDelegate=function(c){return h._mouseUp(c)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(b.browser.safari||g.preventDefault());g.originalEvent.mouseHandled=true;return true},_mouseMove:function(a){if(b.browser.msie&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a))}return !this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(a.target==this._mouseDownEvent.target);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance)},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true}})})(jQuery);(function(k){k.ui=k.ui||{};var n=/left|center|right/,l="center",m=/top|center|bottom/,j="center",i=k.fn.position;k.fn.position=function(e){if(!e||!e.of){return i.apply(this,arguments)}e=k.extend({},e);var b=k(e.of),g=(e.collision||"flip").split(" "),a=e.offset?e.offset.split(" "):[0,0],c,f,d;if(e.of.nodeType===9){c=b.width();f=b.height();d={top:0,left:0}}else{if(e.of.scrollTo&&e.of.document){c=b.width();f=b.height();d={top:b.scrollTop(),left:b.scrollLeft()}}else{if(e.of.preventDefault){e.at="left top";c=f=0;d={top:e.of.pageY,left:e.of.pageX}}else{c=b.outerWidth();f=b.outerHeight();d=b.offset()}}}k.each(["my","at"],function(){var p=(e[this]||"").split(" ");if(p.length===1){p=n.test(p[0])?p.concat([j]):m.test(p[0])?[l].concat(p):[l,j]}p[0]=n.test(p[0])?p[0]:l;p[1]=m.test(p[1])?p[1]:j;e[this]=p});if(g.length===1){g[1]=g[0]}a[0]=parseInt(a[0],10)||0;if(a.length===1){a[1]=a[0]}a[1]=parseInt(a[1],10)||0;if(e.at[0]==="right"){d.left+=c}else{if(e.at[0]===l){d.left+=c/2}}if(e.at[1]==="bottom"){d.top+=f}else{if(e.at[1]===j){d.top+=f/2}}d.left+=a[0];d.top+=a[1];return this.each(function(){var w=k(this),x=w.outerWidth(),y=w.outerHeight(),A=k.extend({},d),v,B,z;if(e.my[0]==="right"){A.left-=x}else{if(e.my[0]===l){A.left-=x/2}}if(e.my[1]==="bottom"){A.top-=y}else{if(e.my[1]===j){A.top-=y/2}}k.each(["left","top"],function(o,p){if(k.ui.position[g[o]]){k.ui.position[g[o]][p](A,{targetWidth:c,targetHeight:f,elemWidth:x,elemHeight:y,offset:a,my:e.my,at:e.at})}});if(k.fn.bgiframe){w.bgiframe()}w.offset(k.extend(A,{using:e.using}))})};k.ui.position={fit:{left:function(d,c){var a=k(window),b=d.left+c.elemWidth-a.width()-a.scrollLeft();d.left=b>0?d.left-b:Math.max(0,d.left)},top:function(d,c){var a=k(window),b=d.top+c.elemHeight-a.height()-a.scrollTop();d.top=b>0?d.top-b:Math.max(0,d.top)}},flip:{left:function(e,d){if(d.at[0]==="center"){return}var b=k(window),c=e.left+d.elemWidth-b.width()-b.scrollLeft(),f=d.my[0]==="left"?-d.elemWidth:d.my[0]==="right"?d.elemWidth:0,a=-2*d.offset[0];e.left+=e.left<0?f+d.targetWidth+a:c>0?f-d.targetWidth+a:0},top:function(e,c){if(c.at[1]==="center"){return}var a=k(window),b=e.top+c.elemHeight-a.height()-a.scrollTop(),f=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,d=c.at[1]==="top"?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];e.top+=e.top<0?f+c.targetHeight+g:b>0?f+d+g:0}}};if(!k.offset.setOffset){k.offset.setOffset=function(b,e){if(/static/.test(jQuery.curCSS(b,"position"))){b.style.position="relative"}var c=jQuery(b),g=c.offset(),f=parseInt(jQuery.curCSS(b,"top",true),10)||0,a=parseInt(jQuery.curCSS(b,"left",true),10)||0,d={top:(e.top-g.top)+f,left:(e.left-g.left)+a};if("using" in e){e.using.call(b,d)}else{c.css(d)}};var h=k.fn.offset;k.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument){return null}if(b){return this.each(function(){k.offset.setOffset(this,b)})}return h.call(this)}}})(jQuery);(function(c){var d=5;c.widget("ui.slider",c.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var b=this,a=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");if(a.disabled){this.element.addClass("ui-slider-disabled ui-disabled")}this.range=c([]);if(a.range){if(a.range===true){this.range=c("<div></div>");if(!a.values){a.values=[this._valueMin(),this._valueMin()]}if(a.values.length&&a.values.length!=2){a.values=[a.values[0],a.values[0]]}}else{this.range=c("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(a.range=="min"||a.range=="max"){this.range.addClass("ui-slider-range-"+a.range)}this.range.addClass("ui-widget-header")}if(c(".ui-slider-handle",this.element).length==0){c('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}if(a.values&&a.values.length){while(c(".ui-slider-handle",this.element).length<a.values.length){c('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}}this.handles=c(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(f){f.preventDefault()}).hover(function(){if(!a.disabled){c(this).addClass("ui-state-hover")}},function(){c(this).removeClass("ui-state-hover")}).focus(function(){if(!a.disabled){c(".ui-slider .ui-state-focus").removeClass("ui-state-focus");c(this).addClass("ui-state-focus")}else{c(this).blur()}}).blur(function(){c(this).removeClass("ui-state-focus")});this.handles.each(function(f){c(this).data("index.ui-slider-handle",f)});this.handles.keydown(function(k){var n=true;var o=c(this).data("index.ui-slider-handle");if(b.options.disabled){return}switch(k.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:n=false;if(!b._keySliding){b._keySliding=true;c(this).addClass("ui-state-active");b._start(k,o)}break}var m,p,l=b._step();if(b.options.values&&b.options.values.length){m=p=b.values(o)}else{m=p=b.value()}switch(k.keyCode){case c.ui.keyCode.HOME:p=b._valueMin();break;case c.ui.keyCode.END:p=b._valueMax();break;case c.ui.keyCode.PAGE_UP:p=m+((b._valueMax()-b._valueMin())/d);break;case c.ui.keyCode.PAGE_DOWN:p=m-((b._valueMax()-b._valueMin())/d);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(m==b._valueMax()){return}p=m+l;break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(m==b._valueMin()){return}p=m-l;break}b._slide(k,o,p);return n}).keyup(function(g){var h=c(this).data("index.ui-slider-handle");if(b._keySliding){b._stop(g,h);b._change(g,h);b._keySliding=false;c(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(r){var q=this.options;if(q.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var n={x:r.pageX,y:r.pageY};var b=this._normValueFromMouse(n);var s=this._valueMax()-this._valueMin()+1,p;var a=this,m;this.handles.each(function(e){var f=Math.abs(b-a.values(e));if(s>f){s=f;p=c(this);m=e}});if(q.range==true&&this.values(1)==q.min){p=c(this.handles[++m])}this._start(r,m);this._mouseSliding=true;a._handleIndex=m;p.addClass("ui-state-active").focus();var o=p.offset();var t=!c(r.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=t?{left:0,top:0}:{left:r.pageX-o.left-(p.width()/2),top:r.pageY-o.top-(p.height()/2)-(parseInt(p.css("borderTopWidth"),10)||0)-(parseInt(p.css("borderBottomWidth"),10)||0)+(parseInt(p.css("marginTop"),10)||0)};b=this._normValueFromMouse(n);this._slide(r,m,b);this._animateOff=true;return true},_mouseStart:function(a){return true},_mouseDrag:function(a){var f={x:a.pageX,y:a.pageY};var b=this._normValueFromMouse(f);this._slide(a,this._handleIndex,b);return false},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation=="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var o,b;if("horizontal"==this.orientation){o=this.elementSize.width;b=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{o=this.elementSize.height;b=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}var l=(b/o);if(l>1){l=1}if(l<0){l=0}if("vertical"==this.orientation){l=1-l}var m=this._valueMax()-this._valueMin(),a=l*m,p=a%this.options.step,k=this._valueMin()+a-p;if(p>(this.options.step/2)){k+=this.options.step}return parseFloat(k.toFixed(5))},_start:function(a,b){var f={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(b);f.values=this.values()}this._trigger("start",a,f)},_slide:function(j,k,l){var b=this.handles[k];if(this.options.values&&this.options.values.length){var n=this.values(k?0:1);if((this.options.values.length==2&&this.options.range===true)&&((k==0&&l>n)||(k==1&&l<n))){l=n}if(l!=this.values(k)){var m=this.values();m[k]=l;var a=this._trigger("slide",j,{handle:this.handles[k],value:l,values:m});var n=this.values(k?0:1);if(a!==false){this.values(k,l,true)}}}else{if(l!=this.value()){var a=this._trigger("slide",j,{handle:this.handles[k],value:l});if(a!==false){this.value(l)}}}},_stop:function(a,b){var f={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(b);f.values=this.values()}this._trigger("stop",a,f)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(b);f.values=this.values()}this._trigger("change",a,f)}},value:function(a){if(arguments.length){this.options.value=this._trimValue(a);this._refreshValue();this._change(null,0)}return this._value()},values:function(j,a){if(arguments.length>1){this.options.values[j]=this._trimValue(a);this._refreshValue();this._change(null,j)}if(arguments.length){if(c.isArray(arguments[0])){var b=this.options.values,k=arguments[0];for(var i=0,l=b.length;i<l;i++){b[i]=this._trimValue(k[i]);this._change(null,i)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(j)}else{return this.value()}}}else{return this._values()}},_setOption:function(b,a){c.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(a){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();this._animateOff=false;break}},_step:function(){var a=this.options.step;return a},_value:function(){var a=this.options.value;a=this._trimValue(a);return a},_values:function(i){if(arguments.length){var a=this.options.values[i];a=this._trimValue(a);return a}else{var b=this.options.values.slice();for(var h=0,j=b.length;h<j;h++){b[h]=this._trimValue(b[h])}return b}},_trimValue:function(a){if(a<this._valueMin()){a=this._valueMin()}if(a>this._valueMax()){a=this._valueMax()}return a},_valueMin:function(){var a=this.options.min;return a},_valueMax:function(){var a=this.options.max;return a},_refreshValue:function(){var r=this.options.range,t=this.options,a=this;var u=(!this._animateOff)?t.animate:false;if(this.options.values&&this.options.values.length){var o,p;this.handles.each(function(e,g){var f=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100;var h={};h[a.orientation=="horizontal"?"left":"bottom"]=f+"%";c(this).stop(1,1)[u?"animate":"css"](h,t.animate);if(a.options.range===true){if(a.orientation=="horizontal"){(e==0)&&a.range.stop(1,1)[u?"animate":"css"]({left:f+"%"},t.animate);(e==1)&&a.range[u?"animate":"css"]({width:(f-lastValPercent)+"%"},{queue:false,duration:t.animate})}else{(e==0)&&a.range.stop(1,1)[u?"animate":"css"]({bottom:(f)+"%"},t.animate);(e==1)&&a.range[u?"animate":"css"]({height:(f-lastValPercent)+"%"},{queue:false,duration:t.animate})}}lastValPercent=f})}else{var n=this.value(),q=this._valueMin(),b=this._valueMax(),s=b!=q?(n-q)/(b-q)*100:0;var v={};v[a.orientation=="horizontal"?"left":"bottom"]=s+"%";this.handle.stop(1,1)[u?"animate":"css"](v,t.animate);(r=="min")&&(this.orientation=="horizontal")&&this.range.stop(1,1)[u?"animate":"css"]({width:s+"%"},t.animate);(r=="max")&&(this.orientation=="horizontal")&&this.range[u?"animate":"css"]({width:(100-s)+"%"},{queue:false,duration:t.animate});(r=="min")&&(this.orientation=="vertical")&&this.range.stop(1,1)[u?"animate":"css"]({height:s+"%"},t.animate);(r=="max")&&(this.orientation=="vertical")&&this.range[u?"animate":"css"]({height:(100-s)+"%"},{queue:false,duration:t.animate})}}});c.extend(c.ui.slider,{version:"1.8rc3"})})(jQuery);jQuery.effects||(function(n){n.effects={};n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,b){n.fx.step[b]=function(c){if(!c.colorInit){c.start=k(c.elem,b);c.end=l(c.end);c.colorInit=true}c.elem.style[b]="rgb("+Math.max(Math.min(parseInt((c.pos*(c.end[0]-c.start[0]))+c.start[0],10),255),0)+","+Math.max(Math.min(parseInt((c.pos*(c.end[1]-c.start[1]))+c.start[1],10),255),0)+","+Math.max(Math.min(parseInt((c.pos*(c.end[2]-c.start[2]))+c.start[2],10),255),0)+")"}});function l(a){var b;if(a&&a.constructor==Array&&a.length==3){return a}if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]}if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]}if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}if(b=/rgba\(0, 0, 0, 0\)/.exec(a)){return t.transparent}return t[n.trim(a).toLowerCase()]}function k(a,c){var b;do{b=n.curCSS(a,c);if(b!=""&&b!="transparent"||n.nodeName(a,"body")){break}c="backgroundColor"}while(a=a.parentNode);return l(b)}var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var p=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(){var e=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,d={},b,a;if(e&&e.length&&e[0]&&e[e[0]]){var c=e.length;while(c--){b=e[c];if(typeof e[b]=="string"){a=b.replace(/\-(\w)/g,function(g,f){return f.toUpperCase()});d[a]=e[b]}}}else{for(b in e){if(typeof e[b]==="string"){d[b]=e[b]}}}return d}function s(b){var c,a;for(c in b){a=b[c];if(a==null||n.isFunction(a)||c in r||(/scrollbar/).test(c)||(!(/color/i).test(c)&&isNaN(parseFloat(a)))){delete b[c]}}return b}function m(c,a){var d={_:0},b;for(b in a){if(c[b]!=a[b]){d[b]=a[b]}}return d}n.effects.animateClass=function(c,b,d,a){if(n.isFunction(d)){a=d;d=null}return this.each(function(){var f=n(this),i=f.attr("style")||" ",e=s(o.call(this)),g,h=f.attr("className");n.each(p,function(v,j){if(c[j]){f[j+"Class"](c[j])}});g=s(o.call(this));f.attr("className",h);f.animate(m(e,g),b,d,function(){n.each(p,function(v,j){if(c[j]){f[j+"Class"](c[j])}});if(typeof f.attr("style")=="object"){f.attr("style").cssText="";f.attr("style").cssText=i}else{f.attr("style",i)}if(a){a.apply(this,arguments)}})})};n.fn.extend({_addClass:n.fn.addClass,addClass:function(b,c,d,a){return c?n.effects.animateClass.apply(this,[{add:b},c,d,a]):this._addClass(b)},_removeClass:n.fn.removeClass,removeClass:function(b,c,d,a){return c?n.effects.animateClass.apply(this,[{remove:b},c,d,a]):this._removeClass(b)},_toggleClass:n.fn.toggleClass,toggleClass:function(a,b,c,d,e){if(typeof b=="boolean"||b===undefined){if(!c){return this._toggleClass(a,b)}else{return n.effects.animateClass.apply(this,[(b?{add:a}:{remove:a}),c,d,e])}}else{return n.effects.animateClass.apply(this,[{toggle:a},b,c,d])}},switchClass:function(c,a,b,d,e){return n.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});n.extend(n.effects,{version:"1.8rc3",save:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.data("ec.storage."+a[c],b[0].style[a[c]])}}},restore:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.css(a[c],b.data("ec.storage."+a[c]))}}},setMode:function(b,a){if(a=="toggle"){a=b.is(":hidden")?"show":"hide"}return a},getBaseline:function(b,a){var d,c;switch(b[0]){case"top":d=0;break;case"middle":d=0.5;break;case"bottom":d=1;break;default:d=b[0]/a.height}switch(b[1]){case"left":c=0;break;case"center":c=0.5;break;case"right":c=1;break;default:c=b[1]/a.width}return{x:c,y:d}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper")){return c.parent()}var b={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},a=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(a);a=c.parent();if(c.css("position")=="static"){a.css({position:"relative"});c.css({position:"relative"})}else{n.extend(b,{position:c.css("position"),zIndex:c.css("z-index")});n.each(["top","left","bottom","right"],function(e,d){b[d]=c.css(d);if(isNaN(parseInt(b[d],10))){b[d]="auto"}});c.css({position:"relative",top:0,left:0})}return a.css(b).show()},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent().replaceWith(a)}return a},setTransition:function(b,d,c,a){a=a||{};n.each(d,function(e,f){unit=b.cssUnit(f);if(unit[0]>0){a[f]=unit[0]*c+unit[1]}});return a}});function q(b,c,a,d){if(typeof b=="object"){d=c;a=null;c=b;b=c.effect}if(n.isFunction(c)){d=c;a=null;c={}}if(typeof c=="number"||n.fx.speeds[c]){d=a;a=c;c={}}c=c||{};a=a||c.duration;a=n.fx.off?0:typeof a=="number"?a:n.fx.speeds[a]||n.fx.speeds._default;d=d||c.complete;return[b,c,a,d]}n.fn.extend({effect:function(g,a,e,d){var b=q.apply(this,arguments),f={options:b[1],duration:b[2],callback:b[3]},c=n.effects[g];return c&&!n.fx.off?c.call(this,f):this},_show:n.fn.show,show:function(a){if(!a||typeof a=="number"||n.fx.speeds[a]){return this._show.apply(this,arguments)}else{var b=q.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)}},_hide:n.fn.hide,hide:function(a){if(!a||typeof a=="number"||n.fx.speeds[a]){return this._hide.apply(this,arguments)}else{var b=q.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)}},__toggle:n.fn.toggle,toggle:function(a){if(!a||typeof a=="number"||n.fx.speeds[a]||typeof a=="boolean"||n.isFunction(a)){return this.__toggle.apply(this,arguments)}else{var b=q.apply(this,arguments);b[1].mode="toggle";return this.effect.apply(this,b)}},cssUnit:function(c){var b=this.css(c),a=[];n.each(["em","px","%","pt"],function(e,d){if(b.indexOf(d)>0){a=[parseFloat(b),d]}});return a}});n.easing.jswing=n.easing.swing;n.extend(n.easing,{def:"easeOutQuad",swing:function(b,a,c,d,e){return n.easing[n.easing.def](b,a,c,d,e)},easeInQuad:function(b,a,c,d,e){return d*(a/=e)*a+c},easeOutQuad:function(b,a,c,d,e){return -d*(a/=e)*(a-2)+c},easeInOutQuad:function(b,a,c,d,e){if((a/=e/2)<1){return d/2*a*a+c}return -d/2*((--a)*(a-2)-1)+c},easeInCubic:function(b,a,c,d,e){return d*(a/=e)*a*a+c},easeOutCubic:function(b,a,c,d,e){return d*((a=a/e-1)*a*a+1)+c},easeInOutCubic:function(b,a,c,d,e){if((a/=e/2)<1){return d/2*a*a*a+c}return d/2*((a-=2)*a*a+2)+c},easeInQuart:function(b,a,c,d,e){return d*(a/=e)*a*a*a+c},easeOutQuart:function(b,a,c,d,e){return -d*((a=a/e-1)*a*a*a-1)+c},easeInOutQuart:function(b,a,c,d,e){if((a/=e/2)<1){return d/2*a*a*a*a+c}return -d/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(b,a,c,d,e){return d*(a/=e)*a*a*a*a+c},easeOutQuint:function(b,a,c,d,e){return d*((a=a/e-1)*a*a*a*a+1)+c},easeInOutQuint:function(b,a,c,d,e){if((a/=e/2)<1){return d/2*a*a*a*a*a+c}return d/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(b,a,c,d,e){return -d*Math.cos(a/e*(Math.PI/2))+d+c},easeOutSine:function(b,a,c,d,e){return d*Math.sin(a/e*(Math.PI/2))+c},easeInOutSine:function(b,a,c,d,e){return -d/2*(Math.cos(Math.PI*a/e)-1)+c},easeInExpo:function(b,a,c,d,e){return(a==0)?c:d*Math.pow(2,10*(a/e-1))+c},easeOutExpo:function(b,a,c,d,e){return(a==e)?c+d:d*(-Math.pow(2,-10*a/e)+1)+c},easeInOutExpo:function(b,a,c,d,e){if(a==0){return c}if(a==e){return c+d}if((a/=e/2)<1){return d/2*Math.pow(2,10*(a-1))+c}return d/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(b,a,c,d,e){return -d*(Math.sqrt(1-(a/=e)*a)-1)+c},easeOutCirc:function(b,a,c,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+c},easeInOutCirc:function(b,a,c,d,e){if((a/=e/2)<1){return -d/2*(Math.sqrt(1-a*a)-1)+c}return d/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(b,h,c,d,e){var g=1.70158;var f=0;var a=d;if(h==0){return c}if((h/=e)==1){return c+d}if(!f){f=e*0.3}if(a<Math.abs(d)){a=d;var g=f/4}else{var g=f/(2*Math.PI)*Math.asin(d/a)}return -(a*Math.pow(2,10*(h-=1))*Math.sin((h*e-g)*(2*Math.PI)/f))+c},easeOutElastic:function(b,h,c,d,e){var g=1.70158;var f=0;var a=d;if(h==0){return c}if((h/=e)==1){return c+d}if(!f){f=e*0.3}if(a<Math.abs(d)){a=d;var g=f/4}else{var g=f/(2*Math.PI)*Math.asin(d/a)}return a*Math.pow(2,-10*h)*Math.sin((h*e-g)*(2*Math.PI)/f)+d+c},easeInOutElastic:function(b,h,c,d,e){var g=1.70158;var f=0;var a=d;if(h==0){return c}if((h/=e/2)==2){return c+d}if(!f){f=e*(0.3*1.5)}if(a<Math.abs(d)){a=d;var g=f/4}else{var g=f/(2*Math.PI)*Math.asin(d/a)}if(h<1){return -0.5*(a*Math.pow(2,10*(h-=1))*Math.sin((h*e-g)*(2*Math.PI)/f))+c}return a*Math.pow(2,-10*(h-=1))*Math.sin((h*e-g)*(2*Math.PI)/f)*0.5+d+c},easeInBack:function(b,a,c,d,e,f){if(f==undefined){f=1.70158}return d*(a/=e)*a*((f+1)*a-f)+c},easeOutBack:function(b,a,c,d,e,f){if(f==undefined){f=1.70158}return d*((a=a/e-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(b,a,c,d,e,f){if(f==undefined){f=1.70158}if((a/=e/2)<1){return d/2*(a*a*(((f*=(1.525))+1)*a-f))+c}return d/2*((a-=2)*a*(((f*=(1.525))+1)*a+f)+2)+c},easeInBounce:function(b,a,c,d,e){return d-n.easing.easeOutBounce(b,e-a,0,d,e)+c},easeOutBounce:function(b,a,c,d,e){if((a/=e)<(1/2.75)){return d*(7.5625*a*a)+c}else{if(a<(2/2.75)){return d*(7.5625*(a-=(1.5/2.75))*a+0.75)+c}else{if(a<(2.5/2.75)){return d*(7.5625*(a-=(2.25/2.75))*a+0.9375)+c}else{return d*(7.5625*(a-=(2.625/2.75))*a+0.984375)+c}}}},easeInOutBounce:function(b,a,c,d,e){if(a<e/2){return n.easing.easeInBounce(b,a*2,0,d,e)*0.5+c}return n.easing.easeOutBounce(b,a*2-e,0,d,e)*0.5+d*0.5+c}})})(jQuery);(function(b){b.effects.blind=function(a){return this.queue(function(){var q=b(this),r=["position","top","left"];var m=b.effects.setMode(q,a.options.mode||"hide");var n=a.options.direction||"vertical";b.effects.save(q,r);q.show();var k=b.effects.createWrapper(q).css({overflow:"hidden"});var p=(n=="vertical")?"height":"width";var l=(n=="vertical")?k.height():k.width();if(m=="show"){k.css(p,0)}var o={};o[p]=m=="show"?l:0;k.animate(o,a.duration,a.options.easing,function(){if(m=="hide"){q.hide()}b.effects.restore(q,r);b.effects.removeWrapper(q);if(a.callback){a.callback.apply(q[0],arguments)}q.dequeue()})})}})(jQuery);(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s]}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(){var T=this,Q=T._,N=typeof StopIteration!=="undefined"?StopIteration:"__break__",P=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},X=Array.prototype,V=Object.prototype,S=X.slice,M=X.unshift,L=V.toString,R=V.hasOwnProperty,K=X.forEach,J=X.map,H=X.reduce,g=X.reduceRight,e=X.filter,d=X.every,c=X.some,U=X.indexOf,a=X.lastIndexOf;V=Array.isArray;var I=Object.keys,Z=function(b){return new W(b)};if(typeof exports!=="undefined"){exports._=Z}T._=Z;Z.VERSION="1.0.2";var Y=Z.forEach=function(b,m,l){try{if(K&&b.forEach===K){b.forEach(m,l)}else{if(Z.isNumber(b.length)){for(var k=0,j=b.length;k<j;k++){m.call(l,b[k],k,b)}}else{for(k in b){R.call(b,k)&&m.call(l,b[k],k,b)}}}}catch(i){if(i!=N){throw i}}return b};Z.map=function(b,k,j){if(J&&b.map===J){return b.map(k,j)}var i=[];Y(b,function(n,m,l){i.push(k.call(j,n,m,l))});return i};Z.reduce=function(b,k,j,i){if(H&&b.reduce===H){return b.reduce(Z.bind(j,i),k)}Y(b,function(n,m,l){k=j.call(i,k,n,m,l)});return k};Z.reduceRight=function(b,k,j,i){if(g&&b.reduceRight===g){return b.reduceRight(Z.bind(j,i),k)}b=Z.clone(Z.toArray(b)).reverse();return Z.reduce(b,k,j,i)};Z.detect=function(b,k,j){var i;Y(b,function(n,m,l){if(k.call(j,n,m,l)){i=n;Z.breakLoop()}});return i};Z.filter=function(b,k,j){if(e&&b.filter===e){return b.filter(k,j)}var i=[];Y(b,function(n,m,l){k.call(j,n,m,l)&&i.push(n)});return i};Z.reject=function(b,k,j){var i=[];Y(b,function(n,m,l){!k.call(j,n,m,l)&&i.push(n)});return i};Z.every=function(b,k,j){k=k||Z.identity;if(d&&b.every===d){return b.every(k,j)}var i=true;Y(b,function(n,m,l){(i=i&&k.call(j,n,m,l))||Z.breakLoop()});return i};Z.some=function(b,k,j){k=k||Z.identity;if(c&&b.some===c){return b.some(k,j)}var i=false;Y(b,function(n,m,l){if(i=k.call(j,n,m,l)){Z.breakLoop()}});return i};Z.include=function(b,j){if(U&&b.indexOf===U){return b.indexOf(j)!=-1}var i=false;Y(b,function(k){if(i=k===j){Z.breakLoop()}});return i};Z.invoke=function(b,j){var i=Z.rest(arguments,2);return Z.map(b,function(k){return(j?k[j]:k).apply(k,i)})};Z.pluck=function(b,i){return Z.map(b,function(j){return j[i]})};Z.max=function(b,k,j){if(!k&&Z.isArray(b)){return Math.max.apply(Math,b)}var i={computed:-Infinity};Y(b,function(n,m,l){m=k?k.call(j,n,m,l):n;m>=i.computed&&(i={value:n,computed:m})});return i.value};Z.min=function(b,k,j){if(!k&&Z.isArray(b)){return Math.min.apply(Math,b)}var i={computed:Infinity};Y(b,function(n,m,l){m=k?k.call(j,n,m,l):n;m<i.computed&&(i={value:n,computed:m})});return i.value};Z.sortBy=function(b,j,i){return Z.pluck(Z.map(b,function(m,l,k){return{value:m,criteria:j.call(i,m,l,k)}}).sort(function(l,k){l=l.criteria;k=k.criteria;return l<k?-1:l>k?1:0}),"value")};Z.sortedIndex=function(b,m,l){l=l||Z.identity;for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?(k=i+1):(j=i)}return k};Z.toArray=function(b){if(!b){return[]}if(b.toArray){return b.toArray()}if(Z.isArray(b)){return b}if(Z.isArguments(b)){return S.call(b)}return Z.values(b)};Z.size=function(b){return Z.toArray(b).length};Z.first=function(b,j,i){return j&&!i?S.call(b,0,j):b[0]};Z.rest=function(b,j,i){return S.call(b,Z.isUndefined(j)||i?1:j)};Z.last=function(b){return b[b.length-1]};Z.compact=function(b){return Z.filter(b,function(i){return !!i})};Z.flatten=function(b){return Z.reduce(b,[],function(j,i){if(Z.isArray(i)){return j.concat(Z.flatten(i))}j.push(i);return j})};Z.without=function(b){var i=Z.rest(arguments);return Z.filter(b,function(j){return !Z.include(i,j)})};Z.uniq=function(b,i){return Z.reduce(b,[],function(l,k,j){if(0==j||(i===true?Z.last(l)!=k:!Z.include(l,k))){l.push(k)}return l})};Z.intersect=function(b){var i=Z.rest(arguments);return Z.filter(Z.uniq(b),function(j){return Z.every(i,function(k){return Z.indexOf(k,j)>=0})})};Z.zip=function(){for(var b=Z.toArray(arguments),k=Z.max(Z.pluck(b,"length")),j=new Array(k),i=0;i<k;i++){j[i]=Z.pluck(b,String(i))}return j};Z.indexOf=function(b,k){if(U&&b.indexOf===U){return b.indexOf(k)}for(var j=0,i=b.length;j<i;j++){if(b[j]===k){return j}}return -1};Z.lastIndexOf=function(b,j){if(a&&b.lastIndexOf===a){return b.lastIndexOf(j)}for(var i=b.length;i--;){if(b[i]===j){return i}}return -1};Z.range=function(b,m,l){var k=Z.toArray(arguments),j=k.length<=1;b=j?0:k[0];m=j?k[0]:k[1];l=k[2]||1;k=Math.ceil((m-b)/l);if(k<=0){return[]}k=new Array(k);j=b;for(var i=0;;j+=l){if((l>0?j-m:m-j)>=0){return k}k[i++]=j}};Z.bind=function(b,j){var i=Z.rest(arguments,2);return function(){return b.apply(j||{},i.concat(Z.toArray(arguments)))}};Z.bindAll=function(b){var i=Z.rest(arguments);if(i.length==0){i=Z.functions(b)}Y(i,function(j){b[j]=Z.bind(b[j],b)});return b};Z.delay=function(b,j){var i=Z.rest(arguments,2);return setTimeout(function(){return b.apply(b,i)},j)};Z.defer=function(b){return Z.delay.apply(Z,[b,1].concat(Z.rest(arguments)))};Z.wrap=function(b,i){return function(){var j=[b].concat(Z.toArray(arguments));return i.apply(i,j)}};Z.compose=function(){var b=Z.toArray(arguments);return function(){for(var j=Z.toArray(arguments),i=b.length-1;i>=0;i--){j=[b[i].apply(this,j)]}return j[0]}};Z.keys=I||function(b){if(Z.isArray(b)){return Z.range(0,b.length)}var j=[];for(var i in b){R.call(b,i)&&j.push(i)}return j};Z.values=function(b){return Z.map(b,Z.identity)};Z.functions=function(b){return Z.filter(Z.keys(b),function(i){return Z.isFunction(b[i])}).sort()};Z.extend=function(b){Y(Z.rest(arguments),function(j){for(var i in j){b[i]=j[i]}});return b};Z.clone=function(b){if(Z.isArray(b)){return b.slice(0)}return Z.extend({},b)};Z.tap=function(b,i){i(b);return b};Z.isEqual=function(b,l){if(b===l){return true}var k=typeof b;if(k!=typeof l){return false}if(b==l){return true}if(!b&&l||b&&!l){return false}if(b.isEqual){return b.isEqual(l)}if(Z.isDate(b)&&Z.isDate(l)){return b.getTime()===l.getTime()}if(Z.isNaN(b)&&Z.isNaN(l)){return true}if(Z.isRegExp(b)&&Z.isRegExp(l)){return b.source===l.source&&b.global===l.global&&b.ignoreCase===l.ignoreCase&&b.multiline===l.multiline}if(k!=="object"){return false}if(b.length&&b.length!==l.length){return false}k=Z.keys(b);var j=Z.keys(l);if(k.length!=j.length){return false}for(var i in b){if(!(i in l)||!Z.isEqual(b[i],l[i])){return false}}return true};Z.isEmpty=function(b){if(Z.isArray(b)){return b.length===0}for(var i in b){if(R.call(b,i)){return false}}return true};Z.isElement=function(b){return !!(b&&b.nodeType==1)};Z.isArray=V||function(b){return !!(b&&b.concat&&b.unshift&&!b.callee)};Z.isArguments=function(b){return b&&b.callee};Z.isFunction=function(b){return !!(b&&b.constructor&&b.call&&b.apply)};Z.isString=function(b){return !!(b===""||b&&b.charCodeAt&&b.substr)};Z.isNumber=function(b){return b===+b||L.call(b)==="[object Number]"};Z.isBoolean=function(b){return b===true||b===false};Z.isDate=function(b){return !!(b&&b.getTimezoneOffset&&b.setUTCFullYear)};Z.isRegExp=function(b){return !!(b&&b.test&&b.exec&&(b.ignoreCase||b.ignoreCase===false))};Z.isNaN=function(b){return Z.isNumber(b)&&isNaN(b)};Z.isNull=function(b){return b===null};Z.isUndefined=function(b){return typeof b=="undefined"};Z.noConflict=function(){T._=Q;return this};Z.identity=function(b){return b};Z.times=function(b,k,j){for(var i=0;i<b;i++){k.call(j,i)}};Z.breakLoop=function(){throw N};Z.mixin=function(b){Y(Z.functions(b),function(i){h(i,Z[i]=b[i])})};var f=0;Z.uniqueId=function(b){var i=f++;return b?b+i:i};Z.templateSettings={start:"<%",end:"%>",interpolate:/<%=(.+?)%>/g};Z.template=function(b,k){var j=Z.templateSettings,i=new RegExp("'(?=[^"+j.end.substr(0,1)+"]*"+P(j.end)+")","g");b=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").replace(i,"\t").split("'").join("\\'").split("\t").join("'").replace(j.interpolate,"',$1,'").split(j.start).join("');").split(j.end).join("p.push('")+"');}return p.join('');");return k?b(k):b};Z.each=Z.forEach;Z.foldl=Z.inject=Z.reduce;Z.foldr=Z.reduceRight;Z.select=Z.filter;Z.all=Z.every;Z.any=Z.some;Z.head=Z.first;Z.tail=Z.rest;Z.methods=Z.functions;var W=function(b){this._wrapped=b},O=function(b,i){return i?Z(b).chain():b},h=function(b,i){W.prototype[b]=function(){var j=Z.toArray(arguments);M.call(j,this._wrapped);return O(i.apply(Z,j),this._chain)}};Z.mixin(Z);Y(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var i=X[b];W.prototype[b]=function(){i.apply(this._wrapped,arguments);return O(this._wrapped,this._chain)}});Y(["concat","join","slice"],function(b){var i=X[b];W.prototype[b]=function(){return O(i.apply(this._wrapped,arguments),this._chain)}});W.prototype.chain=function(){this._chain=true;return this};W.prototype.value=function(){return this._wrapped}})();jQuery.extend(jQuery.easing,{easeIn:function(e,f,a,h,g){return jQuery.easing.easeInQuad(e,f,a,h,g)},easeOut:function(e,f,a,h,g){return jQuery.easing.easeOutQuad(e,f,a,h,g)},easeInOut:function(e,f,a,h,g){return jQuery.easing.easeInOutQuad(e,f,a,h,g)},expoin:function(e,f,a,h,g){return jQuery.easing.easeInExpo(e,f,a,h,g)},expoout:function(e,f,a,h,g){return jQuery.easing.easeOutExpo(e,f,a,h,g)},expoinout:function(e,f,a,h,g){return jQuery.easing.easeInOutExpo(e,f,a,h,g)},bouncein:function(e,f,a,h,g){return jQuery.easing.easeInBounce(e,f,a,h,g)},bounceout:function(e,f,a,h,g){return jQuery.easing.easeOutBounce(e,f,a,h,g)},bounceinout:function(e,f,a,h,g){return jQuery.easing.easeInOutBounce(e,f,a,h,g)},elasin:function(e,f,a,h,g){return jQuery.easing.easeInElastic(e,f,a,h,g)},elasout:function(e,f,a,h,g){return jQuery.easing.easeOutElastic(e,f,a,h,g)},elasinout:function(e,f,a,h,g){return jQuery.easing.easeInOutElastic(e,f,a,h,g)},backin:function(e,f,a,h,g){return jQuery.easing.easeInBack(e,f,a,h,g)},backout:function(e,f,a,h,g){return jQuery.easing.easeOutBack(e,f,a,h,g)},backinout:function(e,f,a,h,g){return jQuery.easing.easeInOutBack(e,f,a,h,g)}});(function(){jQuery.fn.autohide=function(a){var b=this;a=_.extend({clickable:null,onHide:null},a||{});b._autoignore=true;setTimeout(function(){delete b._autoignore},0);if(!b._autohider){b.forceHide=function(c){if(!c&&a.onHide){a.onHide()}b.hide();jQuery(document).unbind("click",b._autohider);jQuery(document).unbind("keypress",b._autohider);b._autohider=null;b.forceHide=null};b._autohider=function(c){if(b._autoignore){return}if(a.clickable&&(b[0]==c.target||_.include(jQuery(c.target).parents(),b[0]))){return}if(a.onHide&&!a.onHide(c)){return}b.forceHide(c)};jQuery(document).bind("click",this._autohider);jQuery(document).bind("keypress",this._autohider)}};jQuery.fn.acceptInput=function(b){var a={delay:1000,callback:null,className:"acceptInput",initialStateClassName:"acceptInput-awaitingActivity",typingStateClassName:"acceptInput-acceptingInput",inputClassName:"acceptInput-textField"};if(b){jQuery.extend(a,b)}this.editTimer=null;this.deny=function(){this.parent().addClass("stopAcceptingInput")};this.allow=function(){this.parent().removeClass("stopAcceptingInput")};this.each(function(d,e){if(jQuery(e).parent().hasClass(a.initialStateClassName)){return true}e=jQuery(e);var c=e.wrap('<span class="'+a.initialStateClassName+'"></span>');c=c.parent();var f=jQuery('<input type="text" class="'+a.inputClassName+'" style="display:none;" />').appendTo(c);f.bind("blur",function(){c.addClass(a.initialStateClassName).removeClass(a.typingStateClassName);f.hide();e.show()});f.bind("keyup",function(){var g=f.attr("value");e.text(g);if(a.changeCallBack){jQuery.fn.acceptInput.editTimer=setTimeout(a.changeCallBack,500)}});f.bind("keydown",function(){if(jQuery.fn.acceptInput.editTimer){clearTimeout(jQuery.fn.acceptInput.editTimer)}});c.bind("click",function(){if(c.hasClass("stopAcceptingInput")){return}if(c.hasClass(a.initialStateClassName)){var g=function(){c.addClass(a.initialStateClassName).removeClass(a.typingStateClassName)};jQuery(f).autohide({clickable:true,onHide:$j.proxy(g,this)});e.hide();f.attr("value",e.text()).show()[0].focus();f[0].select();c.addClass(a.typingStateClassName).removeClass(a.initialStateClassName)}})});return this}}).call(this);window.$j=jQuery.noConflict();window.DV=window.DV||{};DV.register=function(b,a){if(!window.DV[b]){window.DV[b]=a}};if($j.browser.msie===true&&$j.browser.version==6){document.execCommand("BackgroundImageCache",false,true)}(function(){var a=false,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;DV.Class=function(){};DV.Class.extend=function(g){var f=this.prototype;a=true;var e=new this();a=false;for(var d in g){e[d]=typeof g[d]=="function"&&typeof f[d]=="function"&&b.test(g[d])?(function(h,i){return function(){var k=this._super;this._super=f[h];var j=i.apply(this,arguments);this._super=k;return j}})(d,g[d]):g[d]}function c(){if(!a&&this.init){this.init.apply(this,arguments)}}c.prototype=e;c.constructor=c;c.extend=arguments.callee;return c}})();DV.history={URL_CHECK_INTERVAL:500,USE_IFRAME:jQuery.browser.msie&&jQuery.browser.version<8,handlers:[],defaultCallback:null,hash:window.location.hash,initialize:function(){_.bindAll(this,"checkURL");if(this.USE_IFRAME){this.iframe=jQuery('<iframe src="javascript:0"/>').hide().appendTo("body")[0].contentWindow}if("onhashchange" in window){window.onhashchange=this.checkURL}else{setInterval(this.checkURL,this.URL_CHECK_INTERVAL)}},register:function(a,b){this.handlers.push({matcher:a,callback:b})},save:function(a){window.location.hash=this.hash=(a?"#"+a:"");if(this.USE_IFRAME&&(this.hash!=this.iframe.location.hash)){this.iframe.document.open().close();this.iframe.location.hash=this.hash}},checkURL:function(){var a=(this.USE_IFRAME?this.iframe:window).location.hash;if(!a||a==this.hash||"#"+a==this.hash||a==decodeURIComponent(this.hash)){return false}if(this.USE_IFRAME){window.location.hash=a}this.loadURL(true)},loadURL:function(c){var d=this.hash=window.location.hash;for(var b=this.handlers.length-1;b>=0;b--){var a=d.match(this.handlers[b].matcher);if(a){if(c===true){this.handlers[b].callback.apply(this.handlers[b].callback,a.slice(1,a.length))}return true}}if(this.defaultCallback!=null&&c===true){this.defaultCallback()}else{return false}}};jQuery(document).ready(function(){DV.history.initialize()});DV.Annotation=DV.Class.extend({init:function(a){this.position={top:a.top,left:a.left};this.dimensions={width:a.width,height:a.height};this.page=a.page;this.pageEl=a.pageEl;this.application=this.page.set.application;this.annotationEl=null;this.renderedHTML=a.renderedHTML;this.type=a.type;this.id=a.id;this.model=this.application.models.annotations.getAnnotation(this.id);this.state="collapsed";this.active=false;this.add();if(a.active){this.application.helpers.setActiveAnnotationLimits(this);this.application.events.resetTracker();this.active=null;this.application.elements.window[0].scrollTop+=this.annotationEl.offset().top;this.show();if(a.showEdit){this.showEdit()}}},add:function(){if(this.type==="page"){this.annotationEl=this.renderedHTML.insertBefore(this.pageEl)}else{if(this.page.annotations.length>0){for(var b=0,a=this.page.annotations.length;b<a;b++){if(this.page.annotations[b].id===this.id){return false}else{this.annotationEl=this.renderedHTML.appendTo(this.pageEl)}}}else{this.annotationEl=this.renderedHTML.appendTo(this.pageEl)}}},next:function(){this.hide.preventRemovalOfCoverClass=true;var a=this.application.models.annotations.getNextAnnotation(this.id);if(!a){return}this.page.set.showAnnotation({index:a.index,id:a.id,top:a.y1})},previous:function(){this.hide.preventRemovalOfCoverClass=true;var a=this.application.models.annotations.getPreviousAnnotation(this.id);if(!a){return}this.page.set.showAnnotation({index:a.index,id:a.id,top:a.y1})},show:function(a){if(this.application.activeAnnotation&&this.application.activeAnnotation.id!=this.id){this.application.activeAnnotation.hide()}this.application.annotationToLoadId=null;this.application.elements.window.addClass("DV-coverVisible");this.annotationEl.find("div.DV-annotationBG").css({display:"block",opacity:1});this.annotationEl.addClass("DV-activeAnnotation");this.page.activeAnnotation=this;this.application.activeAnnotation=this;this.application.helpers.addObserver("trackAnnotation");this.application.helpers.setActiveAnnotationInNav(this.id);this.active=true;this.pageEl.parent(".DV-set").addClass("DV-activePage");DV.history.save("document/p"+(parseInt(this.page.index,10)+1)+"/a"+this.id);if(a&&a.edit){this.showEdit()}},hide:function(a){if(this.type!=="page"){this.annotationEl.find("div.DV-annotationBG").css({opacity:0,display:"none"})}this.annotationEl.removeClass("DV-editing DV-activeAnnotation");if(a===true){this.application.elements.window.removeClass("DV-coverVisible")}if(this.hide.preventRemovalOfCoverClass===false||!this.hide.preventRemovalOfCoverClass){this.application.elements.window.removeClass("DV-coverVisible");this.hide.preventRemovalOfCoverClass=false}this.page.activeAnnotation=null;this.application.activeAnnotation=null;this.application.helpers.removeObserver("trackAnnotation");this.application.pageSet.setActiveAnnotation(null);this.application.activeAnnotation=null;this.application.events.trackAnnotation.h=null;this.application.events.trackAnnotation.id=null;this.application.events.trackAnnotation.combined=null;this.application.helpers.setActiveAnnotationInNav();this.active=false;this.pageEl.parent(".DV-set").removeClass("DV-activePage");if(this.model.unsaved){this.application.models.annotations.removeAnnotation(this.model)}this.removeConnector(true)},toggle:function(b){if(this.application.activeAnnotation&&(this.application.activeAnnotation!=this)){this.application.activeAnnotation.hide()}if(this.type==="page"){return}var a=this.annotationEl.find("div.DV-annotationBG");this.annotationEl.toggleClass("DV-activeAnnotation");if(this.active==true){this.hide(true)}else{this.show()}},drawConnector:function(){if(this.active!=true){this.application.elements.window.addClass("DV-annotationActivated");this.annotationEl.addClass("DV-annotationHover")}},removeConnector:function(a){if(this.active!=true){this.application.elements.window.removeClass("DV-annotationActivated");this.annotationEl.removeClass("DV-annotationHover")}},showEdit:function(){this.annotationEl.addClass("DV-editing");$j(".DV-annotationTitleInput",this.annotationEl).focus()},remove:function(){$j("#DV-annotation-"+this.id).remove()}});(function(){var a=function(b,e,d){if(!jQuery){throw ("You need jQuery for the dragReporter!");return}if(!b||!e){throw ("You need jQuery for the dragReporter!");return}for(var c in d){this[c]=d[c]}this.dispatcher=e;this.toWatch=jQuery(b);this.boundReporter=jQuery.proxy(this.mouseMoveReporter,this);this.boundMouseUpReporter=jQuery.proxy(this.mouseUpReporter,this);this.boundMouseDownReporter=jQuery.proxy(this.mouseDownReporter,this);this.boundEase=jQuery.proxy(this.boundEase,this);this.setBinding()};a.prototype.pageY=null;a.prototype.pageX=null;a.prototype.oldPageY=0;a.prototype.dispatcher=null;a.prototype.boundReporter=null;a.prototype.boundMouseUpReporter=null;a.prototype.boundMouseDownReporter=null;a.prototype.boundEase=null;a.prototype.toWatch=null;a.prototype.sensativity=1.5;a.prototype.updateTimer=null;a.prototype.ignoreSelector=null;a.prototype.dragClassName="DV-dragging";a.prototype.shouldIgnore=function(c){if(!this.ignoreSelector){return false}var b=jQuery(c.target);return b.parents().is(this.ignoreSelector)||b.is(this.ignoreSelector)};a.prototype.mouseUpReporter=function(b){if(this.shouldIgnore(b)){return true}b.preventDefault();clearInterval(this.updateTimer);this.stop()};a.prototype.oldPositionUpdater=function(){this.oldPageY=this.pageY};a.prototype.stop=function(){this.toWatch.removeClass(this.dragClassName);this.toWatch.unbind("mousemove")};a.prototype.setBinding=function(){this.toWatch.mouseup(this.boundMouseUpReporter);this.toWatch.mousedown(this.boundMouseDownReporter)};a.prototype.unBind=function(){this.toWatch.unbind("mouseup",this.boundMouseUpReporter);this.toWatch.unbind("mousedown",this.boundMouseDownReporter)};a.prototype.destroy=function(){this.unBind();this.toWatch=null};a.prototype.mouseDownReporter=function(b){if(this.shouldIgnore(b)){return true}b.preventDefault();this.pageY=b.pageY;this.pageX=b.pageX;this.oldPageY=b.pageY;this.updateTimer=setInterval(_.bind(this.oldPositionUpdater,this),1200);this.toWatch.addClass(this.dragClassName);this.toWatch.mousemove(this.boundReporter)};a.prototype.mouseMoveReporter=function(c){if(this.shouldIgnore(c)){return true}c.preventDefault();var d=Math.round(this.sensativity*(this.pageY-c.pageY));var b=(d>0)?"down":"up";this.pageY=c.pageY;if(d===0){return}else{this.dispatcher({event:c,delta:d,direction:b})}};DV.register("dragReporter",a)}).call(this);DV.Elements=DV.Class.extend({init:function(a){if(!a){throw ("Elements to query must be defined");return}this.names=[];if(a.constructor===Array){return this.getElements(a)}else{return this.getElement(a)}},getElement:function(b,a){if(this[b.name]&&a===null){return}else{this[b.name]=jQuery(b.query);this.names.push(b.name);return this}},getElements:function(c,b){for(var a=c.length-1;a>=0;a--){this.getElement(c[a],b)}return this},destroy:function(){for(var b=0,a=this.names.length;b<a;b++){this[this.names[b]].unbind();this[this.names[b]].die();delete this[this.names[b]]}delete this.names}});window.Inflector={camelize:function(c){var e=c.split("-"),a=e.length;if(a==1){return e[0]}var d=c.charAt(0)=="-"?e[0].charAt(0).toUpperCase()+e[0].substring(1):e[0];for(var b=1;b<a;b++){d+=e[b].charAt(0).toUpperCase()+e[b].substring(1)}return d},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},underscore:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()},dasherize:function(a){return a.replace(/_/g,"-")},singularize:function(a){return a.replace(/e?s$/,"")},pluralize:function(a,b){return b!=1?a+"s":a},classify:function(a){return this.camelize(this.capitalize(this.dasherize(this.singularize(a))))},truncate:function(b,c,a){c=c||30;a=_.isUndefined(a)?"...":a;return b.length>c?b.slice(0,c-a.length)+a:b},stripTags:function(a){return a.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}};DV.model=function(b,a){this.set("application",b);if(a!=null){this.addMethods(a)}if(this.setup){this.setup()}};DV.model.prototype.addMethods=function(a){for(var b in a){this.set(b,a[b])}};DV.model.prototype.get=function(a){return this[a]};DV.model.prototype.set=function(a,b){if(a!=="set"&&a!=="get"&&a!=="bind"){this[a]=b;return this[a]}else{return false}};DV.model.prototype.bind=function(a,b){return function(){return b.apply(a,arguments)}};DV.page=DV.Class.extend({init:function(c){this.index=c.index;for(var b in c){this[b]=c[b]}this.el=$j(this.el);this.parent=this.el.parent();this.pageNumberEl=this.el.find("span.DV-pageNumber");this.pageImageEl=this.getPageImage();this.pageEl=this.el.find("div.DV-page");this.coverEl=this.el.find("div.DV-cover");this.application=this.set.application;this.loadTimer=null;this.hasLayerPage=false;this.hasLayerRegional=false;this.imgSource=null;this.offset=null;this.pageNumber=null;this.zoom=1;this.annotations=[];this.activeAnnotation=null;var a=this.application.models;this.model_document=a.document;this.model_pages=a.pages;this.model_annotations=a.annotations;this.model_chapters=a.chapters},setPageImage:function(){this.pageImageEl=this.getPageImage()},getPageImage:function(){return this.el.find("img.DV-pageImage")},annotationBridge:function(b){switch(b.data.action){case"previous":b.data.page.activeAnnotation.previous();break;case"next":b.data.page.activeAnnotation.next();break;case"show":var c=b.data.page||this;for(var a=0;a<c.annotations.length;a++){if(c.annotations[a].annotationEl[0].id==$j(b.element).closest(".DV-annotation")[0].id){c.annotations[a].show();break}}break;case"hide":var c=b.data.page||this;for(var a=0;a<c.annotations.length;a++){if(c.annotations[a].annotationEl[0].id==$j(b.element).closest(".DV-annotation")[0].id){c.annotations[a].hide(true);break}}break}},getOffset:function(){return this.model_document.offsets[this.index]},draw:function(d){if(this.index===d.index&&!d.force&&this.imgSource==this.model_pages.imageURL(this.index)){return}this.index=(d.force===true)?this.index:d.index;var j=[];var a=this.model_pages.imageURL(this.index);if(this.imgSource!=a){this.imgSource=a;var h=this;_.defer($j.proxy(this.loadImage,this))}else{}this.sizeImage();this.position();if(this.pageNumber!=this.index+1||d.forceAnnotationRedraw===true){for(var e=0;e<this.annotations.length;e++){this.annotations[e].remove();delete this.annotations[e];this.hasLayerRegional=false;this.hasLayerPage=false}this.annotations=[];var g=this.model_annotations.byPage[this.index];if(g){for(var e=0;e<g.length;e++){var f=g[e];if(f.id===this.application.annotationToLoadId){var c=true;if(f.id===this.application.annotationToLoadEdit){d.edit=true}}else{var c=false}if(f.type=="page"){this.hasLayerPage=true}else{if(f.type=="regional"){this.hasLayerRegional=true}}var b=new DV.Annotation({renderedHTML:$j("#DV-annotations .DV-annotation[rel=aid-"+f.id+"]").clone().attr("id","DV-annotation-"+f.id),id:f.id,page:this,pageEl:this.pageEl,pageNumber:this.pageNumber,state:"collapsed",top:f.y1,left:f.x1,width:f.x1+f.x2,height:f.y1+f.y2,active:c,showEdit:d.edit,type:f.type});this.annotations.push(b)}}this.renderMeta({pageNumber:this.index+1})}this.setPageType()},setPageType:function(){if(this.annotations.length>0){if(this.hasLayerPage===true){this.el.addClass("DV-layer-page")}if(this.hasLayerRegional===true){this.el.addClass("DV-layer-page")}}else{this.el.removeClass("DV-layer-page DV-layer-regional")}},position:function(a){this.el.css({top:this.model_document.offsets[this.index]});this.offset=this.getOffset()},renderMeta:function(a){this.pageNumberEl.text("p. "+a.pageNumber);this.pageNumber=a.pageNumber},loadImage:function(c){if(this.loadTimer){clearTimeout(this.loadTimer);delete this.loadTimer}this.el.removeClass("DV-loaded").addClass("DV-loading");var a=this.model_pages;var b=$j(new Image());var d=this;var e=function(){if(d.loadTimer){clearTimeout(d.loadTimer);delete d.loadTimer}b.bind("load readystatechange",function(g){if(this.complete||(this.readyState=="complete"&&g.type=="readystatechange")){a.updateHeight(b[0],d.index);d.drawImage(b[0].src);clearTimeout(d.loadTimer);delete d.loadTimer}});var f=d.model_pages.imageURL(d.index);b[0].src="#";b[0].src=f};this.loadTimer=setTimeout(e,350);this.application.pageSet.redraw()},sizeImage:function(){var b=this.model_pages.width;var a=this.model_pages.getPageHeight(this.index);this.coverEl.css({width:b,height:a});this.pageImageEl.css({width:b,height:a});this.el.css({height:a+this.model_document.additionalPaddingOnPage,width:b});this.pageEl.css({height:a,width:b})},drawImage:function(b){var a=this.model_pages.getPageHeight(this.index);if(b==this.pageImageEl.attr("src")&&a==this.pageImageEl.attr("height")){this.el.addClass("DV-loaded").removeClass("DV-loading");return}this.pageImageEl.replaceWith('<img galleryimg="no" width="'+this.model_pages.width+'" height="'+a+'" class="DV-pageImage" src="'+b+'" />');this.setPageImage();this.sizeImage();this.el.addClass("DV-loaded").removeClass("DV-loading")}});DV.pageSet=DV.Class.extend({init:function(a){this.currentPage=null;this.pages=[];this.application=a},execute:function(a,b){this.pages.each(function(c){c[a].apply(c,b)})},buildPages:function(){var a=this.getPages();for(var b=0;b<a.length;b++){var c=a[b];c.set=this;c.index=b;this.pages[c.label]=new DV.page(c);if(c.currentPage==true){this.currentPage=this.pages[c.label]}}this.redraw(true,true)},getPages:function(){var a=[];this.application.elements.sets.each(function(d,c){var b=(d==0)?true:false;a.push({label:"p"+d,el:c,index:d,pageNumber:d+1,currentPage:b})});return a},reflowPages:function(){this.application.models.pages.resize();this.application.helpers.setActiveAnnotationLimits();this.redraw(false,true)},simpleReflowPages:function(){this.application.helpers.setActiveAnnotationLimits();this.redraw(false,false)},cleanUp:function(){if(this.application.activeAnnotation){this.application.activeAnnotation.hide(true)}},zoom:function(d){if(this.application.models.document.zoomLevel===d.zoomLevel){return}var e=this.application.models.document.currentIndex();var g=e-1;var c=this.application.models.document.offsets[e];var j=this.application.models.document.zoomLevel*1;var b=this.application.elements.window.scrollTop();this.application.models.document.zoom(d.zoomLevel);var h=(parseInt(b,10)>parseInt(c,10))?b-c:c-b;var a=h/this.application.models.pages.height;this.reflowPages();if(this.application.activeAnnotation!=null){var f={index:this.application.models.document.currentIndex(),top:this.application.activeAnnotation.y1,id:this.application.activeAnnotation.id};this.application.activeAnnotation=null;this.showAnnotation(f);this.application.helpers.setActiveAnnotationLimits(this.application.activeAnnotation)}else{var i=Math.round(this.application.models.pages.height*a);this.application.helpers.jump(this.application.models.document.currentIndex(),i)}},draw:function(a){for(var c=0,b=a.length;c<b;c++){var d=this.pages[a[c].label];d.draw({index:a[c].index,pageNumber:a[c].index+1})}},redraw:function(a,c){var b=this.application.models.document.currentIndex();if(this.pages.p0){this.pages.p0.draw({force:true,forceAnnotationRedraw:c})}if(this.pages.p1){this.pages.p1.draw({force:true,forceAnnotationRedraw:c})}if(this.pages.p2){this.pages.p2.draw({force:true,forceAnnotationRedraw:c})}if(this.application.activeAnnotation){this.application.helpers.jump(this.application.activeAnnotation.page.index,this.application.activeAnnotation.position.top-37)}},setActiveAnnotation:function(b,a){this.application.annotationToLoadId=b;this.application.annotationToLoadEdit=a?b:null},showAnnotation:function(c,a){a=a||{};if(this.application.state==="ViewAnnotation"){var d=$j("#DV-annotations div[rel=aid-"+c.id+"]")[0].offsetTop;this.application.elements.window.scrollTop(d+10,"fast");this.application.helpers.setActiveAnnotationInNav(c.id);this.application.activeAnnotationId=c.id;DV.history.save("annotation/a"+c.id);return}else{this.application.helpers.removeObserver("trackAnnotation");this.application.activeAnnotationId=null;if(this.application.activeAnnotation!=null){this.application.activeAnnotation.hide()}this.setActiveAnnotation(c.id,a.edit);var d=c.top-36;for(var b=0;b<=2;b++){for(var e=0;e<this.pages["p"+b].annotations.length;e++){if(this.pages["p"+b].annotations[e].id===c.id){if(!a.noJump){this.application.helpers.jump(c.index,d)}this.pages["p"+b].annotations[e].show(a);return}}}if(!a.noJump){this.application.helpers.jump(c.index,d)}}}});(function(){var a=function(b,c){this.pendingElements=c.elements;if(c.models){_.extend(this.models,c.models)}this.compile(b,c)};a.prototype.state=null;a.prototype.elements=null;a.prototype.helpers=null;a.prototype.states=null;a.prototype.models={};a.prototype.events=null;a.prototype.compile=function(b,c){this.events=c.events;this.helpers=c.helpers;this.states=this.compileStates(b);this.events=this.compileMethods(this.events,{application:this,states:this.states,elements:this.elements,helpers:this.helpers,models:this.models,compile:function(){var d=this.application;var e=arguments[0];return function(){if(!d.events[d.getState()][e]){d.events[e].apply(d.events,arguments)}else{d.events[d.getState()][e].apply(d.events,arguments)}}}});this.helpers=this.compileMethods(this.helpers,{application:this,states:this.states,elements:this.elements,events:this.events,models:this.models});this.states=this.compileMethods(this.states,{application:this,helpers:this.helpers,elements:this.elements,events:this.events,models:this.models})};a.prototype.compileStates=function(c){var e={};var b=this;for(var d in c){if(c[d]===null||c[d]===false||!c[d].enter){this[d]=c[d];continue}e[d]=(function(f){var g=b;return function(){var h=g.getState();if(h===f){return}if(c[h]!=null){var i=c[h].exit.call(g,f);if(i===false){return false}}g.setState(f);c[f].enter.call(g,h);c[f][f].apply(g,arguments)}})(d);e[d].exit=function(f){var g=this;return function(){c[f].exit.call(g)}}(d)}return e};a.prototype.compileMethods=function(b,d){for(var c in d){b[c]=d[c]}return b};a.prototype.getState=function(){return this.state};a.prototype.setState=function(b){this.state=b;return this.state};DV.register("stateMachine",a)}).call(this);DV.Schema=function(){return{models:{},views:{},states:{},helpers:{},events:{},elements:{},text:{},data:{zoomLevel:700,pageWidthPadding:20,additionalPaddingOnPage:30,state:{page:{previous:0,current:0,next:1}}},importCanonicalDocument:function(a){a.sections=a.sections||[];a.annotations=a.annotations||[];this.document=$j.extend(true,{},a);this.data.title=a.title;this.data.totalPages=a.pages;this.data.totalAnnotations=a.annotations.length;this.data.sections=a.sections;this.data.chapters=[];this.data.annotationsById={};this.data.annotationsByPage={};_.each(a.annotations,$j.proxy(this.loadAnnotation,this))},loadAnnotation:function(b){if(b.id){b.server_id=b.id}var a=b.page-1;b.id=_.uniqueId();b.title=b.title||"Untitled Annotation";b.text=b.content||"";b.access=b.access||"public";b.type=b.location&&b.location.image?"region":"page";if(b.type==="region"){var c=$j.map(b.location.image.split(","),function(e,d){return parseInt(e,10)});b.y1=c[0];b.x2=c[1];b.y2=c[2];b.x1=c[3]}else{if(b.type==="page"){b.y1=0;b.x2=0;b.y2=0;b.x1=0}}this.data.annotationsById[b.id]=b;this.data.annotationsByPage[a]=this.data.annotationsByPage[a]||[];this.data.annotationsByPage[a].push(b);return b}}}();DV.Schema.elements=[{name:"browserDocument",query:document},{name:"browserWindow",query:window},{name:"header",query:"div#DV-header"},{name:"viewer",query:"div#DV-docViewer"},{name:"window",query:"div#DV-pages"},{name:"sets",query:"div.DV-set"},{name:"pages",query:"div.DV-page"},{name:"metas",query:"div.DV-pageMeta"},{name:"bar",query:"div#DV-bar"},{name:"currentPage",query:"span#DV-currentPage"},{name:"well",query:"div#DV-well"},{name:"collection",query:"div#DV-pageCollection"},{name:"navigation",query:"div#DV-well div.DV-navigation"},{name:"chaptersContainer",query:"div#DV-well div.DV-chaptersContainer"},{name:"searchInput",query:"input#DV-searchInput"},{name:"textCurrentPage",query:"span#DV-textCurrentPage"},{name:"coverPages",query:"div.DV-cover"}];(function(){var a=new DV.model(DV.Schema,{offsetsAdjustments:[],offsetAdjustmentSum:0,init:function(){this.saveCallbacks=[];this.deleteCallbacks=[];this.byId=DV.Schema.data.annotationsById;this.byPage=DV.Schema.data.annotationsByPage;this.bySortOrder=this.sortAnnotations();this.annotationLeftPageBuffer=25;this.renderAnnotations()},render:function(d){var h=this.application.models.document;var c=this.application.models.pages;var g=c.zoomFactor();var f=d;var b=0;if(f.type==="page"){f._y1=b;f._y2=b;f._x1=b;f._x2=b;f.top=b}else{f._y1=Math.round(f.y1*g);f._y2=Math.round(f.y2*g);if(f.x1<this.annotationLeftPageBuffer){f.x1=this.annotationLeftPageBuffer}f._x1=Math.round(f.x1*g);f._x2=Math.round(f.x2*g);f.top=f._y1}f.width=c.width;f.pageNumber=f.page;f.bgWidth=f.width;f.bWidth=f.width-66;f.excerptWidth=f._x2-f._x1;f.excerptMarginLeft=f._x1-27;f.excerptHeight=f._y2-f._y1;f.index=f.page-1;f.image=c.imageURL(f.index);f.imageLeft=f._x1;f.imageTop=f._y1+2;f.imageWidth=c.width;f.imageHeight=c.height;f.regionLeft=f._x1;f.regionWidth=f._x2-f._x1;f.regionHeight=f._y2-f._y1;f.excerptDSHeight=f.excerptHeight-6;f.DSOffset=3;f.orderClass="";if(f.first==true){f.orderClass+=" DV-firstAnnotation"}if(f.last==true){f.orderClass+=" DV-lastAnnotation"}var e=(f.type==="page")?"pageAnnotation":"annotation";return JST[e](f)},sortAnnotations:function(){return this.bySortOrder=_.sortBy(_.values(this.byId),function(b){return b.page*10000+b.y1})},renderAnnotations:function(){for(var c=0;c<this.bySortOrder.length;c++){var b=this.bySortOrder[c];b.of=_.indexOf(this.byPage[b.page-1],b);b.position=c+1;b.first=(c==0)?true:false;b.last=(c==this.bySortOrder.length-1)?true:false;b.html=this.render(b)}this.renderAnnotationsByIndex()},renderAnnotationsByIndex:function(){var c=_.map(this.bySortOrder,function(d){return d.html});var b=c.join("").replace(/id="DV-annotation-(\d+)"/g,function(d,e){return'id="DV-listAnnotation-'+e+'" rel="aid-'+e+'"'});$j("div#DV-annotations").html(b);this.renderAnnotationsByIndex.rendered=true;this.renderAnnotationsByIndex.zoomLevel=this.zoomLevel;this.updateAnnotationOffsets()},refreshAnnotation:function(b){$j("#DV-annotation-"+b.id+", #DV-listAnnotation-"+b.id).each(function(){$j(".DV-annotationTitleInput",this).val(b.title);$j(".DV-annotationLabel",this).html(b.title);$j(".DV-annotationTextArea",this).val(b.text);$j(".DV-annotationText",this).html(b.text)})},removeAnnotation:function(c){delete this.byId[c.id];var b=c.page-1;this.byPage[b]=_.without(this.byPage[b],c);this.sortAnnotations();$j("#DV-annotation-"+c.id+", #DV-listAnnotation-"+c.id).remove();DV.api.redraw(true)},updateAnnotationOffsets:function(){this.offsetsAdjustments=[];var b=this.application.models.document;var k=$j("div#DV-annotations").find(".DV-annotation");var e=$j("div#DV-annotations");if($j("div#DV-docViewer").hasClass("DV-viewAnnotations")==false){e.addClass("DV-getHeights")}var j=this;var c=this.bySortOrder;var d=($j.browser.msie===true&&$j.browser.version==6)?"height":"outerHeight";$j(k).each(function(m,l){var i=$j(l)[d]();if(_.isNumber(i)&&i!=0){j.offsetsAdjustments[c[m].pageNumber]=i;j.offsetAdjustmentSum+=i}i=0});var f=0;for(var g=0,h=b.totalPages;g<h;g++){if(j.offsetsAdjustments[g]){f+=j.offsetsAdjustments[g]}j.offsetsAdjustments[g]=f}e.removeClass("DV-getHeights")},fireSaveCallbacks:function(b){_.each(this.saveCallbacks,function(d){d(b)})},fireDeleteCallbacks:function(b){_.each(this.deleteCallbacks,function(d){d(b)})},getAnnotations:function(b){return this.byPage[b]},getFirstAnnotation:function(){return _.first(this.bySortOrder)},getNextAnnotation:function(b){var c=this.byId[b];return this.bySortOrder[_.indexOf(this.bySortOrder,c)+1]},getPreviousAnnotation:function(b){var c=this.byId[b];return this.bySortOrder[_.indexOf(this.bySortOrder,c)-1]},getAnnotation:function(b){if(b.id){return this.byId[b.id]}if(b.index&&!b.id){throw new Error("looked up an annotation without an id")}return this.byId[b]}});DV.Schema.models.annotations=a}).call(this);(function(){var a=new DV.model(DV.Schema,{init:function(){this.loadChapters()},loadChapters:function(){var b=this.chapters=DV.Schema.data.chapters=[];_.each(DV.Schema.data.sections,function(f){f.id=f.id||_.uniqueId();var d=f.pages.split("-");var g=parseInt(d[0],10);var c=parseInt(d[0],10);for(var e=d[0]-1;e<d[1];e++){b[e]=f.id}})},getChapterId:function(b){return this.chapters[b]},getChapterPosition:function(d){for(var c=0,b=this.chapters.length;c<b;c++){if(this.chapters[c]===d){return c}}}});DV.Schema.models.chapters=a}).call(this);(function(){var a=new DV.model(DV.Schema,{currentPageIndex:0,offsets:[],baseHeightsPortion:[],baseHeightsPortionOffsets:[],paddedOffsets:[],totalDocumentHeight:0,totalPages:0,scrollBarWidth:0,additionalPaddingOnPage:0,ZOOM_RANGES:[700,750,825,900,1000],init:function(){var b=DV.Schema.data;this.state=b.state;this.baseImageURL=b.baseImageURL;this.additionalPaddingOnPage=b.additionalPaddingOnPage;this.pageWidthPadding=b.pageWidthPadding;this.zoomLevel=b.zoomLevel;this.totalPages=b.totalPages;this.chapterModel=DV.controller.models.chapters;this.pageModel=this.application.models.pages;this.setScrollBarWidth()},setPageIndex:function(b){this.currentPageIndex=b;DV.controller.elements.currentPage.text(this.currentPage());this.application.helpers.setActiveChapter(this.chapterModel.getChapterId(b));return b},currentPage:function(){return this.currentPageIndex+1},currentIndex:function(){return this.currentPageIndex},nextPage:function(){var b=this.currentIndex()+1;if(b>=this.totalPages){return this.currentIndex()}return this.setPageIndex(b)},previousPage:function(){var b=this.currentIndex()-1;if(b<0){return this.currentIndex()}return this.setPageIndex(b)},zoom:function(c,b){if(this.zoomLevel!=c||b===true){this.zoomLevel=c;this.application.models.pages.resize(this.zoomLevel);this.application.models.annotations.renderAnnotations();this.computeOffsets()}},computeOffsets:function(){var m=this.application.models.annotations;var k=0;var g=0;var f=this.totalPages;var l=0;var b=DV.controller.elements.window[0].scrollTop;for(var d=0;d<f;d++){if(m.offsetsAdjustments[d]){g=m.offsetsAdjustments[d]}var c=this.pageModel.pageHeights[this.zoomLevel][d]||this.pageModel.height;var j=this.offsets[d];var e=this.offsets[d]=g+k;if((j!==e)&&(e-c<b)){l+=(e-j-l)}this.baseHeightsPortion[d]=Math.round((c+this.additionalPaddingOnPage)/3);this.baseHeightsPortionOffsets[d]=(d==0)?0:e-this.baseHeightsPortion[d];k+=(c+this.additionalPaddingOnPage)}if(k!=this.totalDocumentHeight){l=(this.totalDocumentHeight!=0)?l:k-this.totalDocumentHeight;this.application.helpers.setDocHeight(k,l);this.totalDocumentHeight=k}},getScrollBarWidth:function(){var c=document.body;_bodyStyle=c.style;_bodyStyle.overflow="hidden";var b=c.clientWidth;_bodyStyle.overflow="scroll";b-=c.clientWidth;if(!b){b=c.offsetWidth-c.clientWidth}_bodyStyle.overflow="";return b},setScrollBarWidth:function(){this.set("scrollBarWidth",this.getScrollBarWidth())},getOffset:function(b){return this.offsets[b]}});DV.Schema.models.document=a}).call(this);(function(){var a=new DV.model(DV.Schema,{pageHeights:[],BASE_WIDTH:700,BASE_HEIGHT:906,DEFAULT_TEXT_WIDTH:600,MAX_TEXT_WIDTH:600,TEXT_PADDING:100,init:function(){this.zoomLevel=this.BASE_WIDTH;this.width=this.baseWidth=this.BASE_WIDTH;this.height=this.baseHeight=this.averageHeight=this.BASE_HEIGHT;this.numPagesLoaded=0;zoomRanges=DV.controller.models.document.ZOOM_RANGES;for(var c=0,b=zoomRanges.length;c<b;c++){this.pageHeights[zoomRanges[c]]=[]}},imageURL:function(d){var c=DV.Schema.document.resources.page.image;var e=this.zoomLevel>this.BASE_WIDTH?"large":"normal";var b=d+1;if(DV.Schema.document.resources.page.zeropad){b=this.zeroPad(b,5)}c=c.replace(/\{size\}/,e);c=c.replace(/\{page\}/,b);return c},zeroPad:function(c,d){var b=c.toString();while(b.length<d){b="0"+b}return b},zoomFactor:function(){return this.zoomLevel/this.BASE_WIDTH},resize:function(d){if(d){if(d==this.zoomLevel){return}var b=this.zoomFactor();this.zoomLevel=d||this.zoomLevel;var c=this.zoomFactor()-b+1;this.width=Math.round(this.baseWidth*this.zoomFactor());this.height=Math.round(this.height*c);this.averageHeight=Math.round(this.averageHeight*c)}DV.controller.elements.sets.width(this.zoomLevel);DV.controller.elements.collection.css({width:this.width+110})},updateHeight:function(d,b){var c=this.getPageHeight(b);if(c===d.height){return}this.setPageHeight(b,d.height);this.updateBaseHeightBasedOnAveragePageHeight(d);DV.controller.models.document.computeOffsets();DV.controller.pageSet.simpleReflowPages()},updateBaseHeightBasedOnAveragePageHeight:function(b){this.averageHeight=((this.averageHeight*this.numPagesLoaded)+b.height)/(this.numPagesLoaded+1);this.numPagesLoaded+=1;if(this.updateTimeout){clearTimeout(this.updateTimeout)}this.updateTimeout=setTimeout(_.bind(function(){this.updateTimeout=null;var c=Math.round(this.averageHeight);if(Math.abs(c-this.height)>10){this.height=c;this.baseHeight=Math.round(this.height/this.zoomFactor())}},this),500)},setPageHeight:function(b,c){this.pageHeights[this.zoomLevel][b]=c},getPageHeight:function(b){return this.pageHeights[this.zoomLevel][b]||this.height}});DV.Schema.models.pages=a}).call(this);DV.Schema.events={zoom:function(b){this.application.pageSet.zoom({zoomLevel:b});var a=this.application.models.document.ZOOM_RANGES;if(a[a.length-1]==b){this.application.dragReporter.sensativity=1.5}else{this.application.dragReporter.sensativity=1}},drawPages:function(){var e=this.models.document;var d=e.baseHeightsPortionOffsets;var g=this.application.scrollPosition=this.elements.window[0].scrollTop;var b=_.sortedIndex(d,g);if(d[b]==g){b++}var a=b-1;var f=this.helpers.sortPages(a);var c=e.totalPages;if(e.currentPage()!=b){e.setPageIndex(a)}if(b===1){return this.drawFirstPage(f)}if(b===c){return this.drawLastPage(f)}return this.drawPageAt(f,a)},drawFirstPage:function(a){this.application.pageSet.draw([{label:a[0],index:0,currentPage:true},{label:a[1],index:1},{label:a[2],index:2}])},drawLastPage:function(b){var a=this.models.document.totalPages-1;this.application.pageSet.draw([{label:b[0],index:a-1},{label:b[1],index:a,currentPage:true}])},drawPageAt:function(b,a){this.application.pageSet.draw([{label:b[0],index:a-1},{label:b[1],index:a,currentPage:true},{label:b[2],index:a+1}])},check:function(){var a=this.application;if(a.busy===false){a.busy=true;for(var b=0;b<this.application.observers.length;b++){this[a.observers[b]].call(this)}a.busy=false}},scale:function(){var a=this.helpers;var b=a.getWindowDimensions();if(b.height!=this.application.windowDimensions.height||b.width!=this.application.windowDimensions.width){a.setWindowSize(b)}},loadText:function(a,f){a=(!a)?this.models.document.currentIndex():parseInt(a,10);this._previousTextIndex=a;var d=this;var b=function(i){var h=parseInt(a,10)+1;d.handleTextResponse(i);d.elements.currentPage.text(h);d.elements.textCurrentPage.text("p. "+(h));d.models.document.setPageIndex(a);d.helpers.setActiveChapter(d.models.chapters.getChapterId(a));if(f){f.call(d.helpers)}};if(DV.Schema.text[a]){return b(DV.Schema.text[a])}var c=_.bind(function(h){b(DV.Schema.text[a]=h)},this);$j("#DV-textContents").text("");var g=DV.Schema.document.resources.page.text.replace("{page}",a+1);var e=this.helpers.isCrossDomain(g);if(e){g+="?callback=?"}$j[e?"getJSON":"get"](g,{},c)},handleTextResponse:function(k){var l=this.models.pages.DEFAULT_TEXT_WIDTH;var j=this.models.pages.MAX_TEXT_WIDTH;var h=this.models.pages.TEXT_PADDING;var d=$j("#DV-textMeasurer");var i=$j("#DV-textContents");var g=$j("#DV-textPage");d.text(k);var c=d.width();var f=d.height();var e=c>j&&c>(f*2);var a=e?l:c>j?j:c<l?l:c;var b=a<=700?810:a+h;i.width(a);g.width(a+h);this.elements.collection.css({width:b,height:"auto"});i.text(k)},resetTracker:function(){this.application.activeAnnotation=null;this.trackAnnotation.combined=null;this.trackAnnotation.h=null},trackAnnotation:function(){var c=this.application;var e=this.helpers;var b=this.elements.window[0].scrollTop;if(c.activeAnnotation){var a=c.activeAnnotation;var d=this.trackAnnotation;if(d.id!=a.id){d.id=a.id;e.setActiveAnnotationLimits(a)}if(b>d.h||b<d.combined){a.hide(true);c.pageSet.setActiveAnnotation(null);c.activeAnnotation=null;d.h=null;d.id=null;d.combined=null}}else{c.pageSet.setActiveAnnotation(null);c.activeAnnotation=null;d.h=null;d.id=null;d.combined=null;e.removeObserver("trackAnnotation")}}};DV.Schema.events.ViewAnnotation={next:function(f){var c=this.application;var b=c.activeAnnotationId;var a=this.models.annotations;var d=(b===null)?a.getFirstAnnotation():a.getNextAnnotation(b);if(!d){return false}c.pageSet.showAnnotation(d);this.helpers.setAnnotationPosition(d.position)},previous:function(f){var d=this.application;var c=d.activeAnnotationId;var a=this.models.annotations;var b=(!c)?a.getFirstAnnotation():a.getPreviousAnnotation(c);if(!b){return false}d.pageSet.showAnnotation(b);this.helpers.setAnnotationPosition(b.position)},search:function(a){a.preventDefault();this.states.ViewSearch();return false}};DV.Schema.events.ViewDocument={next:function(){var a=this.models.document.nextPage();this.helpers.jump(a);DV.history.save("document/p"+(a+1))},previous:function(b){var a=this.models.document.previousPage();this.helpers.jump(a);DV.history.save("document/p"+(a+1))},search:function(a){a.preventDefault();this.states.ViewSearch();return false}};DV.Schema.events.ViewSearch={next:function(b){var a=this.models.document.nextPage();this.loadText(a)},previous:function(b){var a=this.models.document.previousPage();this.loadText(a)},search:function(a){this.helpers.getSearchResponse(this.elements.searchInput.val());return false}};DV.Schema.events.ViewText={next:function(b){var a=this.models.document.nextPage();this.loadText(a);DV.history.save("text/p"+(a+1))},previous:function(b){var a=this.models.document.previousPage();this.loadText(a);DV.history.save("text/p"+(a+1))},search:function(a){a.preventDefault();this.states.ViewSearch();return false}};_.extend(DV.Schema.events,{handleHashChangeViewDocumentPage:function(b){var a=parseInt(b,10)-1;if(this.application.state==="ViewDocument"){this.application.pageSet.cleanUp();this.helpers.jump(a)}else{this.models.document.setPageIndex(a);this.states.ViewDocument()}},handleHashChangeLegacyViewDocumentPage:function(b){var a=parseInt(b,10)-1;this.handleHashChangeViewDocumentPage(b)},handleHashChangeViewDocumentAnnotation:function(c,b){var a=parseInt(c,10)-1;var b=parseInt(b,10);if(this.application.state==="ViewDocument"){this.application.pageSet.showAnnotation(this.application.models.annotations.byId[b])}else{this.models.document.setPageIndex(a);this.application.pageSet.setActiveAnnotation(b);this.states.ViewDocument()}},handleHashChangeViewAnnotationAnnotation:function(a){var a=parseInt(a,10);var b=this.application;if(b.state==="ViewAnnotation"){b.pageSet.showAnnotation(this.application.models.annotations.byId[a])}else{b.activeAnnotationId=a;this.states.ViewAnnotation()}},handleHashChangeDefault:function(){this.application.pageSet.cleanUp();this.models.document.setPageIndex(0);if(this.application.state==="ViewDocument"){this.helpers.jump(0);DV.history.save("document/p1")}else{this.states.ViewDocument()}},handleHashChangeViewText:function(b){var a=parseInt(b,10)-1;if(this.application.state==="ViewText"){this.events.loadText(a)}else{this.models.document.setPageIndex(a);this.states.ViewText()}},handleHashChangeViewSearchRequest:function(c,b){var a=parseInt(c,10)-1;this.elements.searchInput.val(decodeURIComponent(b));if(this.application.state!=="ViewSearch"){this.models.document.setPageIndex(a)}this.states.ViewSearch()},handleHashChangeViewEntity:function(c,a,d,b){c=parseInt(c,10)-1;a=decodeURIComponent(a);this.elements.searchInput.val(a);this.models.document.setPageIndex(c);this.states.ViewEntity(a,parseInt(d,10),parseInt(b,10))}});_.extend(DV.Schema.events,{handleNavigation:function(h){var f=$j(h.target);var d=f.parent();if(f.hasClass("DV-trigger")||d.hasClass("DV-trigger")){if(f.hasClass("DV-expander")){return d.parent().toggleClass("DV-expanded")}else{if(d.hasClass("DV-first")){d.parent().addClass("DV-expanded");var i=parseInt(d.parent()[0].id.replace("DV-chapter-",""),10);var c=parseInt(this.models.chapters.getChapterPosition(i),10);var b=parseInt(c,10)+1;if(this.application.state==="ViewText"){this.loadText(c);DV.history.save("text/p"+b)}else{if(this.application.state==="ViewDocument"){this.helpers.jump(c);DV.history.save("document/p"+b)}else{return false}}}else{if(d[0].tagName.toUpperCase()==="DIV"){var g=d[0].id.replace("DV-annotationMarker-","");var a=this.models.annotations.getAnnotation(g);var b=parseInt(a.index,10)+1;if(this.application.state==="ViewText"){this.loadText(a.index);DV.history.save("text/p"+b)}else{this.application.pageSet.showAnnotation(a)}}else{return false}}}}}});DV.Schema.helpers={HOST_EXTRACTOR:(/https?:\/\/([^\/]+)\//),annotationClassName:".DV-annotation",bindEvents:function(a){var d=this.events.compile("zoom");this.application.slider=$j("#DV-zoomBox").slider({step:24.7,change:function(j,k){d(a.models.document.ZOOM_RANGES[parseInt(k.value/24.7,10)])}});var f=this.application.compiled;f.next=this.events.compile("next");f.previous=this.events.compile("previous");var i=a.states;$j("#DV-navControls").delegate("span#DV-next","click",f.next);$j("#DV-navControls").delegate("span#DV-previous","click",f.previous);$j("#DV-annotationView").delegate(".DV-trigger","click",function(j){j.preventDefault();i.ViewAnnotation()});$j("#DV-documentView").delegate(".DV-trigger","click",function(j){DV.history.save("document/p"+a.models.document.currentPage());i.ViewDocument()});$j("#DV-textView").delegate(".DV-trigger","click",function(j){DV.history.save("text/p"+a.models.document.currentPage());i.ViewText()});$j(".DV-pagination").delegate("span.DV-gotoPage","click",$j.proxy(this.gotoPage,this));$j("form#DV-searchDocument").submit(this.events.compile("search"));$j("#DV-searchBar").delegate("#DV-closeSearch","click",function(j){j.preventDefault();DV.history.save("text/p"+a.models.document.currentPage());i.ViewText()});$j("#DV-searchResults").delegate("span.DV-resultPrevious","click",$j.proxy(this.highlightPreviousMatch,this));$j("#DV-searchResults").delegate("span.DV-resultNext","click",$j.proxy(this.highlightNextMatch,this));var g=$j.proxy(this.annotationBridgeToggle,this);var b=$j.proxy(this.annotationBridgeDrawConnector,this);var h=$j.proxy(this.annotationBridgeRemoveConnector,this);var e=this.elements.collection;e.delegate("span.DV-annotationTab","click",g);e.delegate("span.DV-annotationTab","mouseover",b);e.delegate("span.DV-annotationTab","mouseout",h);e.delegate("span.DV-annotationRegion","mouseover",b);e.delegate("span.DV-annotationRegion","mouseout",h);e.delegate("span.DV-annotationRegion","click",$j.proxy(this.annotationBridgeShow,this));e.delegate("span.DV-annotationNext","click",$j.proxy(this.annotationBridgeNext,this));e.delegate("span.DV-annotationPrevious","click",$j.proxy(this.annotationBridgePrevious,this));e.delegate("span.DV-showEdit","click",$j.proxy(this.showAnnotationEdit,this));e.delegate("span.DV-cancelEdit","click",$j.proxy(this.cancelAnnotationEdit,this));e.delegate("span.DV-saveAnnotation","click",$j.proxy(this.saveAnnotation,this));e.delegate("span.DV-deleteAnnotation","click",$j.proxy(this.deleteAnnotation,this));$j("#DV-descriptionToggle").live("click",function(j){j.preventDefault();j.stopPropagation();$j("#DV-descriptionText").slideToggle(300,function(){$j("#DV-descriptionToggle").toggleClass("DV-showDescription")})});var c=$j.proxy(this.application.pageSet.cleanUp,this);this.elements.window.live("mousedown",function(k){var j=$j(k.target);if(j.parents().is(".DV-annotation")||j.is(".DV-annotation")){return true}if(a.elements.window.hasClass("DV-coverVisible")){if((j.width()-parseInt(k.clientX,10))>=15){c()}}});if(jQuery.browser.msie==true){this.elements.browserDocument.bind("focus",$j.proxy(this.focusWindow,this));this.elements.browserDocument.bind("focusout",$j.proxy(this.focusOut,this))}else{this.elements.browserWindow.bind("focus",$j.proxy(this.focusWindow,this));this.elements.browserWindow.bind("blur",$j.proxy(this.blurWindow,this))}this.elements.window.bind("scroll",$j.proxy(this.focusWindow,this));this.elements.coverPages.live("mousedown",c);this.application.acceptInput=this.elements.currentPage.acceptInput({changeCallBack:$j.proxy(this.acceptInputCallBack,this)})},startCheckTimer:function(){var b=this.application;var a=function(){b.events.check()};this.application.checkTimer=setInterval(a,100)},stopCheckTimer:function(){clearTimeout(this.application.checkTimer)},blurWindow:function(){if(this.application.isFocus===true){this.application.isFocus=false;this.stopCheckTimer()}else{return}},focusOut:function(){if(this.application.activeElement!=document.activeElement){this.application.activeElement=document.activeElement;this.application.isFocus=true}else{this.application.isFocus=false;DV.controller.helpers.stopCheckTimer();return}},focusWindow:function(){if(this.application.isFocus===true){return}else{this.application.isFocus=true;this.startCheckTimer()}},setDocHeight:function(a,b){this.elements.window[0].scrollTop+=b;this.elements.bar.css("height",a)},getWindowDimensions:function(){var b=(DV.options.embedded==true)?0:parseInt($j(document.body).css("padding-top"),10);var a={height:(window.innerHeight?window.innerHeight:this.elements.browserWindow.height())-b,width:this.elements.browserWindow.width()};return a},isCrossDomain:function(b){var a=b.match(this.HOST_EXTRACTOR)[1];return a!=window.location.host},resetScrollState:function(){this.elements.window.scrollTop(0)},gotoPage:function(d){d.preventDefault();var c=$j(d.target).parents(".DV-annotation").attr("rel").replace("aid-","");var a=this.models.annotations.getAnnotation(c);var b=this.application;if(b.state!=="ViewDocument"){this.models.document.setPageIndex(a.index);b.states.ViewDocument();DV.history.save("document/p"+(parseInt(a.index,10)+1))}},sortPages:function(a){if(a==0){return["p0","p1","p2"]}if(a%3==1){return["p0","p1","p2"]}if(a%3==2){return["p1","p2","p0"]}if(a%3==0){return["p2","p0","p1"]}},addObserver:function(a){this.removeObserver(a);this.application.observers.push(a)},removeObserver:function(b){var d=this.application.observers;for(var c=0,a=d.length;c<a;c++){if(b===d[c]){d.splice(c,1)}}},hidePageOverflow:function(){var a=JST.hidePageOverflow({});$j("head").append(a)},setWindowSize:function(g){var c=this.application;var d=this.elements;var e=c.scrollBarWidth;var a=d.header.outerHeight();var b=d.window.offset();var f=Math.round((g.height)-a-15);d.window.css({height:f,width:g.width-267});d.well.css({height:f});c.windowDimensions=g},toggleContent:function(a){this.elements.viewer.removeClass("DV-viewText DV-viewSearch DV-viewDocument DV-viewAnnotations").addClass("DV-"+a)},jump:function(c,b,d){b=(b)?parseInt(b,10):0;var a=this.models.document.getOffset(parseInt(c,10))+b;this.elements.window.scrollTop(a);if(d){this.application.pageSet.redraw(true)}},shift:function(a){var c=this.elements.window;var b=c.scrollTop()+a.delta;c.scrollTop(b)},shiftEase:function(c){var b=this.elements.window;var a=b.scrollTop()+c;b.animate({scrollTop:a},"easeOutSine")},getAppState:function(){var a=this.models.document;var b=(a.currentIndex()==0)?1:a.currentPage();return{page:b,zoom:a.zoomLevel,view:this.application.state}},constructPages:function(){var a=[];var c=(DV.Schema.data.totalPages<3)?DV.Schema.data.totalPages:3;for(var b=0;b<c;b++){a.push(JST.pages({pageNumber:b+1,pageIndex:b,pageImageSource:"",baseHeight:this.models.pages.height}))}return a.join("")},loadAssets:function(c){for(var b=0,a=c.length;b<a;b++){this.loadAsset(c[b])}},loadAsset:function(a){$j("head").append(a)},setInterpolationMode:function(a){if(a==true){this.elements.window.addClass("DV-interpolate")}else{this.elements.window.removeClass("DV-interpolate")}},registerHashChangeEvents:function(){var a=this.events;var b=DV.history;b.defaultCallback=$j.proxy(a.handleHashChangeDefault,this.events);b.register(/document\/p(\d*)$/,$j.proxy(a.handleHashChangeViewDocumentPage,this.events));b.register(/p(\d*)$/,$j.proxy(a.handleHashChangeLegacyViewDocumentPage,this.events));b.register(/p=(\d*)$/,$j.proxy(a.handleHashChangeLegacyViewDocumentPage,this.events));b.register(/document\/p(\d*)\/a(\d*)$/,$j.proxy(a.handleHashChangeViewDocumentAnnotation,this.events));b.register(/annotation\/a(\d*)$/,$j.proxy(a.handleHashChangeViewAnnotationAnnotation,this.events));b.register(/text\/p(\d*)$/,$j.proxy(a.handleHashChangeViewText,this.events));b.register(/entity\/p(\d*)\/(.*)\/(\d+):(\d+)$/,$j.proxy(a.handleHashChangeViewEntity,this.events));b.register(/search\/p(\d*)\/(.*)$/,$j.proxy(a.handleHashChangeViewSearchRequest,this.events))},handleInitialState:function(){var a=DV.history.loadURL(true);if(!a){this.states.ViewDocument()}}};_.extend(DV.Schema.helpers,{getAnnotationModel:function(b){var a=parseInt(b.attr("rel").match(/\d+/),10);return this.models.annotations.getAnnotation(a)},getAnnotationObject:function(a){var a=$j(a);var d=a.attr("id").replace(/DV\-annotation\-|DV\-listAnnotation\-/,"");var b=a.closest("div.DV-set").attr("id");for(var c=0;(annotationObject=this.application.pageSet.pages[b].annotations[c]);c++){if(annotationObject.id==d){a=null;return annotationObject}}return false},annotationBridgeToggle:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.toggle()},annotationBridgeDrawConnector:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.drawConnector()},annotationBridgeRemoveConnector:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.removeConnector()},annotationBridgeShow:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.show()},annotationBridgeHide:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.hide(true)},annotationBridgeNext:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.next()},annotationBridgePrevious:function(b){b.preventDefault();var a=this.getAnnotationObject($j(b.target).closest(this.annotationClassName));a.previous()},setAnnotationPosition:function(a){this.elements.currentPage.text(a)},setActiveAnnotationLimits:function(a){var a=(a)?a:this.application.activeAnnotation;if(!a||a==null){return}var e=this.elements;var b=a.page;var d=a.annotationEl;var c=a.position.top;var f=this.events.trackAnnotation;if(a.type==="page"){f.h=d.find("div.DV-annotationBG").outerHeight()+b.getOffset();f.combined=(b.getOffset())-e.window.height()}else{f.h=d.find("div.DV-annotationBG").height()+c+20+b.getOffset();f.combined=(c+20+b.getOffset())-e.window.height()}}});_.extend(DV.Schema.helpers,{renderViewer:function(){var f=DV.Schema.document;var e=this.constructPages();var b=(f.description)?f.description:null;var a=f.resources.related_story;a=a?'<a target="_blank" href="'+a+'">Related Article &raquo;</a>':"";var d=JST.header({id:f.id,search_type:(window.navigator.userAgent.match(/webkit/i))?"search":"text",story_url:a,title:f.title||""});var c=f.resources.pdf;c=c?'<a target="_blank" href="'+c+'">Original Document (PDF)</a>':"";$j(DV.container).html(JST.viewer({pages:e,header:d,pdf_url:c,descriptionContainer:JST.descriptionContainer({description:b})}));if(DV.options.embedded){this.elements.viewer.addClass("DV-embedded")}},renderNavigation:function(){var c=[],g=[],e=[],q=[],o=JST.navigationExpander({}),h=[],k=[],f=[];var r=function(y,x){var z=[];for(var w=y,v=x;w<v;w++){if(k[w]){z.push(k[w]);h[w]=""}}return z.join("")};var a=function(i){var v="#DV-selectedChapter-"+i.id+" #DV-chapter-"+i.id;g.push(v+" .DV-first span.DV-trigger");return(JST.chapterNav(i))};var d=function(w){var x=[];var y=DV.Schema.data.annotationsByPage[w];for(var v=0;v<y.length;v++){var i=y[v];x.push(JST.annotationNav(i));g.push("#DV-selectedAnnotation-"+i.id+" #DV-annotationMarker-"+i.id+" span.DV-trigger")}return x.join("")};for(var s=0,t=this.models.document.totalPages;s<t;s++){if(DV.Schema.data.annotationsByPage[s]){h[s]=d(s);k[s]=h[s]}}if(DV.Schema.data.sections.length>=1){for(var s=0;s<DV.Schema.data.sections.length;s++){var j=DV.Schema.data.sections[s];var m=j.pages.split("-");var b=r(m[0]-1,m[1]);j.pageNumber=m[0];if(b!=""){j.navigationExpander=o;j.navigationExpanderClass="DV-hasChildren";j.noteViews=b;h[m[0]-1]=a(j)}else{j.navigationExpanderClass="DV-noChildren";j.noteViews="";j.navigationExpander="";h[m[0]-1]=a(j)}}}var u=h.join("");var n=$j("div.DV-chaptersContainer");n.html(u);n.live("click",this.events.compile("handleNavigation"));DV.Schema.data.sections.length||_.size(DV.Schema.data.annotationsById)?n.show():n.hide();$j("#DV-navigationBolds",document.head).remove();var p=g.join(", ")+" { font-weight:bold; color:#000 !important; }";var l='<style id="DV-navigationBolds" type="text/css" media="screen,print">\n'+p+"\n</style>";$j("head").append(l);n=null},renderComponents:function(){if(DV.container==document.body){$j(document.body).css({margin:0,padding:0,overflow:"hidden"})}var d=_.any(this.models.annotations.byId);$j("#DV-annotationView")[d?"show":"hide"]();var b=!!DV.Schema.document.resources.search;if(b){this.elements.viewer.addClass("DV-searchable")}var a=this.models.chapters.chapters.length>0;$j("#DV-navControls").remove();var c=JST.navControls({totalPages:DV.Schema.data.totalPages,totalAnnotations:DV.Schema.data.totalAnnotations});if(!d&&!a&&!DV.Schema.document.description){this.elements.viewer.addClass("DV-emptySidebar");$j("#DV-Controls .DV-navControlsContainer").html(c)}else{$j("#DV-well .DV-navControlsContainer").html(c);$j("#DV-sidebar").show()}this.elements.currentPage=$j("span#DV-currentPage");this.models.document.setPageIndex(this.models.document.currentIndex())}});_.extend(DV.Schema.helpers,{showAnnotationEdit:function(b){var a=$j(b.target).closest(this.annotationClassName);a.addClass("DV-editing");$j(".DV-annotationTextArea",a).focus()},cancelAnnotationEdit:function(c){var b=$j(c.target).closest(this.annotationClassName);var a=this.getAnnotationModel(b);if(a.unsaved){this.models.annotations.removeAnnotation(a)}else{b.removeClass("DV-editing")}},saveAnnotation:function(c){var b=$j(c.target).closest(this.annotationClassName);var a=this.getAnnotationModel(b);a.title=$j(".DV-annotationTitleInput",b).val();a.text=$j(".DV-annotationTextArea",b).val();this.models.annotations.refreshAnnotation(a);b.removeClass("DV-editing");DV.api.redraw();this.models.annotations.fireSaveCallbacks(a)},deleteAnnotation:function(c){var b=$j(c.target).closest(this.annotationClassName);var a=this.getAnnotationModel(b);this.models.annotations.removeAnnotation(a);this.models.annotations.fireDeleteCallbacks(a)}});_.extend(DV.Schema.helpers,{resetNavigationState:function(){var a=this.elements;a.chaptersContainer[0].id="";a.navigation[0].id=""},setActiveChapter:function(a){this.elements.chaptersContainer.attr("id","DV-selectedChapter-"+a)},setActiveAnnotationInNav:function(a){if(a){this.elements.navigation.attr("id","DV-selectedAnnotation-"+a)}else{this.elements.navigation.attr("id","")}}});_.extend(DV.Schema.helpers,{getSearchResponse:function(c){var b=_.bind(function(d){this.application.searchResponse=d;var f=(d.results.length>0)?true:false;var e=f?"of "+d.results.length+" ":" ";$j("span#DV-totalSearchResult").text(e);$j("span#DV-searchQuery").text(d.query);if(f){DV.history.save("search/p"+d.results[0]+"/"+d.query);this.events.loadText(d.results[0]-1,this.highlightSearchResponses)}else{this.highlightSearchResponses()}},this);var a=DV.Schema.document.resources.search.replace("{query}",encodeURIComponent(c));if(DV.controller.helpers.isCrossDomain(a)){a+="&callback=?"}$j.getJSON(a,b)},acceptInputCallBack:function(){var a=parseInt(this.elements.currentPage.text(),10)-1;a=(a==="")?0:a;a=(a<0)?0:a;a=(a+1>this.models.document.totalPages)?this.models.document.totalPages-1:a;var b=a+1;this.elements.currentPage.text(b);$j(".DV-pageNumberContainer input").val(b);if(this.application.state==="ViewDocument"){DV.history.save("document/p"+b);this.jump(a)}else{if(this.application.state==="ViewText"){DV.history.save("text/p"+b);this.events.loadText(a)}}},highlightSearchResponses:function(){var k=this.application;var c=k.searchResponse;if(!c){return false}var e=c.results;var g=$j("#DV-currentSearchResult");if(e.length==0){g.text("No Results");$j("#DV-searchResults").addClass("DV-noResults")}else{$j("#DV-searchResults").removeClass("DV-noResults")}for(var f=0;f<c.results.length;f++){if(this.models.document.currentPage()===c.results[f]){g.text("Page "+(f+1)+" ");break}}var h=$j("#DV-textContents");var d=h.text();var j=new RegExp(c.query,"ig");var b=d.replace(j,'<span class="DV-searchMatch">$&</span>');h.html(b);var a=(k.toHighLight)?k.toHighLight:0;this.highlightMatch(a);g=null;h=null},highlightEntity:function(g,d){$j("#DV-searchResults").addClass("DV-noResults");var c=$j("#DV-textContents");var f=c.text();var e=f.substr(0,g);var a=f.substr(g,d);var b=f.substr(g+d);f=[e,'<span class="DV-searchMatch">',a,"</span>",b].join("");c.html(f);this.highlightMatch(0)},highlightMatch:function(c){var d=$j("#DV-textContents span.DV-searchMatch");if(d.length==0){return false}var f=this.getCurrentSearchPageIndex();var a=this.application.toHighLight;if(a){if(a!==false){if(a==="last"){c=d.length-1}else{if(a==="first"){c=0}else{c=a}}}a=false}var e=this.application.searchResponse;if(e){if(c===(d.length)){if(e.results.length===f+1){return}a="first";this.events.loadText(e.results[f+1]-1,this.highlightSearchResponses);return}else{if(c===-1){if(f-1<0){return false}a="last";this.events.loadText(e.results[f-1]-1,this.highlightSearchResponses);return}}d.removeClass("DV-highlightedMatch")}var b=$j("#DV-textContents span.DV-searchMatch:eq("+c+")");b.addClass("DV-highlightedMatch");this.elements.window.scrollTo(b.position().top-50,{axis:"y"});if(e){e.highlighted=c}d=null;b=null},getCurrentSearchPageIndex:function(){var d=this.application.searchResponse;if(!d){return false}var b=this.models.document;for(var c=0,a=d.results.length;c<a;c++){if(d.results[c]===b.currentPage()){return c}}},highlightPreviousMatch:function(a){a.preventDefault();this.highlightMatch(this.application.searchResponse.highlighted-1)},highlightNextMatch:function(a){a.preventDefault(a);this.highlightMatch(this.application.searchResponse.highlighted+1)},showEntity:function(a,c,b){$j("span#DV-totalSearchResult").text("");$j("span#DV-searchQuery").text(a);$j("span#DV-currentSearchResult").text("Searching...");this.events.loadText(this.models.document.currentIndex(),_.bind(this.helpers.highlightEntity,this.helpers,c,b))},cleanUpSearch:function(){var a=this.application;a.searchResponse=null;a.toHighLight=null}});DV.Schema.states={isFocus:true,activeElement:null,observers:[],windowDimensions:{},scrollPosition:null,checkTimer:{},busy:false,annotationToLoadId:null,dragReporter:null,compiled:{},tracker:{},InitialLoad:{enter:function(a){this.helpers.renderViewer();this.scrollBarWidth=($j.browser.msie===true)?19:17;this.events.elements=this.helpers.elements=this.elements=new DV.Elements(this.pendingElements);this.models.pages.init();this.models.document.init();this.models.chapters.init();this.models.annotations.init();this.helpers.renderComponents();this.helpers.renderNavigation();this.pageSet=new DV.pageSet(this);this.pageSet.buildPages();this.helpers.bindEvents(this);this.helpers.addObserver("scale")},InitialLoad:function(){this.models.document.computeOffsets();this.helpers.addObserver("drawPages");this.helpers.registerHashChangeEvents();this.helpers.handleInitialState()},exit:function(a){this.dragReporter=new DV.dragReporter("#DV-pageCollection",$j.proxy(this.helpers.shift,this));this.helpers.startCheckTimer()}}};DV.Schema.states.ViewAnnotation={enter:function(a){this.elements.window.scrollTop(0);this.activeAnnotationId=null;this.acceptInput.deny();return true},ViewAnnotation:function(){this.helpers.toggleContent("viewAnnotations");this.compiled.next();return true},exit:function(a){this.helpers.resetNavigationState();this.activeAnnotationId=null;return true}};DV.Schema.states.ViewDocument={enter:function(a){this.helpers.addObserver("drawPages");this.dragReporter.setBinding();this.elements.window.mouseleave($j.proxy(this.dragReporter.stop,this.dragReporter));this.acceptInput.allow();return true},ViewDocument:function(){this.helpers.toggleContent("viewDocument");this.helpers.setActiveChapter(this.models.chapters.getChapterId(this.models.document.currentIndex()));this.helpers.jump(this.models.document.currentIndex());return true},exit:function(a){if(this.activeAnnotation){this.pageSet.cleanUp()}this.helpers.removeObserver("drawPages");this.elements.chaptersContainer[0].id="";this.dragReporter.unBind();return true}};DV.Schema.states.ViewEntity={enter:function(a){this.dragReporter.unBind();this.elements.window.scrollTop(0)},ViewEntity:function(a,c,b){this.helpers.toggleContent("viewSearch");this.helpers.showEntity(a,c,b)},exit:function(a){this.elements.searchInput.val("");this.helpers.cleanUpSearch();return true}};DV.Schema.states.ViewSearch={enter:function(a){this.dragReporter.unBind();this.elements.window.scrollTop(0);if(this.elements.searchInput.val()==""){this.elements.searchInput.val(b)}else{var b=this.elements.searchInput.val()}this.helpers.getSearchResponse(b);this.acceptInput.deny();return true},ViewSearch:function(){this.helpers.toggleContent("viewSearch");return true},exit:function(a){this.elements.searchInput.val("");this.helpers.cleanUpSearch();return true}};DV.Schema.states.ViewText={enter:function(a){this.dragReporter.unBind();this.helpers.resetNavigationState();this.elements.window.scrollTop(0);this.acceptInput.allow();return true},ViewText:function(){this.helpers.toggleContent("viewText");this.events.loadText();return true},exit:function(a){this.helpers.resetNavigationState();this.elements.collection.width(this.models.pages.width+110);return true}};DV.controller=new DV.stateMachine(DV.Schema.states,{events:DV.Schema.events,elements:DV.Schema.elements,helpers:DV.Schema.helpers,models:DV.Schema.models});DV.load=function(a,c){c=c||{};DV.container=c.container||document.body;DV.options=c;var b=function(e){DV.Schema.importCanonicalDocument(e);if(DV.container==document.body||c.hidePageOverflow==true||c.embedded==true){DV.controller.helpers.hidePageOverflow()}DV.controller.states.InitialLoad();if(c.afterLoad){c.afterLoad.call(window)}};var d=function(){if(_.isString(a)){var e=DV.controller.helpers.isCrossDomain(a);if(e){a=a+"?callback=?"}$j.getJSON(a,b)}else{b(a)}};if(c.templates){$j.getScript(c.templates,d)}else{d()}};if(DV.onload){setTimeout(DV.onload,0)}DV.api={currentPage:function(){return DV.controller.models.document.currentPage()},currentZoom:function(){var a=DV.controller.models.document;return a.zoomLevel/a.ZOOM_RANGES[0]},numberOfPages:function(){return DV.controller.models.document.totalPages},setSections:function(a){DV.Schema.data.sections=a;DV.controller.models.chapters.loadChapters();this.redraw()},getSections:function(){return _.clone(DV.Schema.data.sections||[])},getDescription:function(){return DV.Schema.document.description},setDescription:function(a){DV.Schema.document.description=a;$j("#DV-description").remove();$j(".DV-navigation").prepend(JST.descriptionContainer({description:a}))},getTitle:function(){return DV.Schema.document.title},setTitle:function(a){DV.Schema.document.title=a;document.title=a},setPageText:function(b,a){DV.Schema.text[a-1]=b},redraw:function(a){if(a){DV.controller.models.annotations.renderAnnotations()}DV.controller.helpers.renderNavigation();DV.controller.helpers.renderComponents();if(a){DV.controller.elements.window.removeClass("DV-coverVisible");DV.controller.pageSet.buildPages()}},addAnnotation:function(a){a=DV.Schema.loadAnnotation(a);DV.controller.models.annotations.sortAnnotations();this.redraw(true);DV.controller.pageSet.showAnnotation(a,{active:true,noJump:true,edit:true});return a},onAnnotationSave:function(a){DV.controller.models.annotations.saveCallbacks.push(a)},onAnnotationDelete:function(a){DV.controller.models.annotations.deleteCallbacks.push(a)},loadCSS:function(a){var b=document.createElement("link");$j(b).attr({rel:"stylesheet",type:"text/css",href:a}).appendTo($j("head"))},loadJS:function(a,b){$j.getScript(a,b)}};